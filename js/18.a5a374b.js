(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{ARfp:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("q-toolbar",{attrs:{color:"faded"}},[o("q-toolbar-title",[o("q-breadcrumbs",{attrs:{color:"white","active-color":"info",separator:">"}},[o("q-breadcrumbs-el",{staticClass:"q-subheading text-weight-bold",attrs:{active:"",color:"info",label:"Events",to:"/events"}})],1)],1)],1),o("div",{staticClass:"q-ma-md"},[o("q-table",{attrs:{dense:e.dense,data:e.events,loading:e.tableLoading,columns:e.columns,filter:e.filter,pagination:e.pagination,"row-key":"code"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[o("q-search",{staticClass:"col-10",attrs:{color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"body-cell-ageRange",fn:function(t){return o("q-td",{attrs:{props:t}},[o("p",[e._v(e._s(e.getAgeType(t.row)))]),e._v("\n        "+e._s(e.getAgeRange(t.row))+"\n      ")])}},{key:"body-cell-season",fn:function(t){return o("q-td",{attrs:{props:t}},[o("p",[e._v(e._s(e.getLatestSeason(t.row)))]),o("q-btn",{attrs:{rounded:"",size:"sm",label:"View Seasons",color:"positive"},on:{click:function(o){e.viewSeason(t)}}})],1)}},{key:"body-cell-schedule",fn:function(t){return o("q-td",{attrs:{props:t}},[o("q-btn",{attrs:{rounded:"",size:"sm",label:"View Schedules",color:"info"},on:{click:function(o){e.viewSchedule(t)}}})],1)}},{key:"body-cell-actions",fn:function(t){return o("q-td",{attrs:{props:t}},[e.isHasSeason(t.row)?o("q-btn",{attrs:{size:"sm",label:"Edit",color:"info",icon:"edit"},on:{click:function(o){e.showEvent(t)}}}):e._e(),e.isHasSeason(t.row)?o("q-btn",{attrs:{size:"sm",label:"Remove",color:"negative",icon:"delete"},on:{click:function(o){e.deleteEvent(t)}}}):e._e()],1)}}])})],1),o("q-page-sticky",{attrs:{position:"top-right",offset:[10,10]}},[o("q-btn",{attrs:{rounded:"",label:"New Event",size:"md",color:"primary",icon:"event"},on:{click:function(t){e.eventModal=!0}}})],1),o("q-modal",{staticClass:"q-pa-md",attrs:{"content-css":{minWidth:"50vw",minHeight:"82vh"}},on:{hide:e.clearEventModal},model:{value:e.eventModal,callback:function(t){e.eventModal=t},expression:"eventModal"}},[o("q-modal-layout",{attrs:{"content-class":"{'bg-primary': isPrimary}","footer-class":"bg-primary some-class","footer-style":"{fontSize: '24px', fontWeight: 'bold'}"}},[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-toolbar-title",[e._v("\n\t\t\t\t\t\t\t"+e._s(e.isEdit?"Edit Event":"Add New Event")+"\n\t\t\t\t\t\t")]),o("q-btn",{attrs:{flat:"",round:"",icon:"close"},on:{click:function(t){e.eventModal=!e.eventModal}}})],1),o("div",{staticClass:"content-class"},[e.isEdit?o("img",{attrs:{src:e.newEvent.pagePhotos.eventLogoUrl,alt:"Image not set",width:"100px",height:"100px"}}):e._e(),o("q-uploader",{ref:"eventPhotoLogoRef",staticClass:"q-ma-md",attrs:{url:e.eventPhotoLogo,name:"eventLogo","hide-upload-progress":"","float-label":"Event Logo","hide-upload-button":"","auto-expand":"",extensions:"'.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'",error:e.$v.uploadedPhoto.$error},on:{add:function(t){e.photoAdded},remove:function(t){e.uploadedPhoto=null}}}),o("q-input",{staticClass:"row textbox",attrs:{"stack-label":"Event Name",placeholder:"Enter Event Name",error:e.$v.newEvent.eventName.$error},on:{blur:function(t){e.capitalize(),e.$v.newEvent.eventName.$touch,e.hasDuplicateEventCode(),e.acroEventCode}},model:{value:e.newEvent.eventName,callback:function(t){e.$set(e.newEvent,"eventName",t)},expression:"newEvent.eventName"}}),o("q-input",{staticClass:"row textbox",attrs:{error:e.isDuplicateCode,"hide-underline":!e.isCustomEventCode,readonly:!e.isCustomEventCode,"stack-label":"Event Code",placeholder:"Enter Event Code"},on:{blur:function(t){e.hasDuplicateEventCode()}},model:{value:e.newEvent.eventCode,callback:function(t){e.$set(e.newEvent,"eventCode",t)},expression:"newEvent.eventCode"}}),o("q-checkbox",{staticClass:"q-body-1 q-mx-md",attrs:{label:"Custom Event Code"},model:{value:e.isCustomEventCode,callback:function(t){e.isCustomEventCode=t},expression:"isCustomEventCode"}}),o("br"),o("q-item-separator"),o("q-checkbox",{staticClass:"q-ma-md",attrs:{label:"Below 4 yrs old"},model:{value:e.newEvent.ageRange.infant,callback:function(t){e.$set(e.newEvent.ageRange,"infant",t)},expression:"newEvent.ageRange.infant"}}),e.newEvent.ageRange.infant?o("q-list",{attrs:{link:""}},[o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{color:"secondary",val:"infant"},model:{value:e.newEvent.ageRange.type,callback:function(t){e.$set(e.newEvent.ageRange,"type",t)},expression:"newEvent.ageRange.type"}})],1),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Infant")]),o("q-item-tile",{attrs:{sublabel:""}},[e._v("7 months - 1yr.4months")])],1)],1),o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{color:"secondary",val:"todler"},on:{input:e.below4},model:{value:e.newEvent.ageRange.type,callback:function(t){e.$set(e.newEvent.ageRange,"type",t)},expression:"newEvent.ageRange.type"}})],1),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Todler")]),o("q-item-tile",{attrs:{sublabel:""}},[e._v("1yr.5months - 3yr.11months")])],1)],1)],1):e._e(),o("div",{staticClass:"row"},[e.newEvent.ageRange.infant?e._e():o("div",{staticClass:"col"},[o("q-chip",{staticClass:"col q-ma-md",attrs:{square:"",color:"secondary"}},[e._v("\n                    Age Range: "+e._s(this.range.min)+"yrs old to "+e._s(this.range.max)+" yrs old\n                  ")]),o("div",{staticClass:"row q-ma-md"},[o("q-input",{staticClass:"col q-mx-md",attrs:{"stack-label":"From",error:e.isNotGreaterThanFromTo},model:{value:e.range.min,callback:function(t){e.$set(e.range,"min",t)},expression:"range.min"}}),o("q-input",{staticClass:"col q-mx-md",attrs:{"stack-label":"To",error:e.isNotGreaterThanFromTo},model:{value:e.range.max,callback:function(t){e.$set(e.range,"max",t)},expression:"range.max"}})],1)],1)]),o("q-select",{staticClass:"row textbox",attrs:{"stack-label":"Gender Restriction","float-label":"Select Gender",options:e.genderRestricOpt,error:e.$v.newEvent.genderRestriction.$error},model:{value:e.newEvent.genderRestriction,callback:function(t){e.$set(e.newEvent,"genderRestriction",t)},expression:"newEvent.genderRestriction"}})],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[e.isEdit?e._e():o("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Save"},on:{click:e.addNewEvent}}),e.isEdit?o("q-btn",{staticClass:"full-width",attrs:{color:"secondary",label:"Update"},on:{click:e.editEvent}}):e._e()],1),o("q-inner-loading",{attrs:{visible:e.eventLoading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),o("span",[e._v("Proceeding to Season")])],1)],1)],1),o("q-modal",{attrs:{"content-css":{minWidth:"50vw",minHeight:"95vh"}},on:{hide:e.clearEventModal},model:{value:e.eventPageModal,callback:function(t){e.eventPageModal=t},expression:"eventPageModal"}},[o("q-modal-layout",{attrs:{"content-class":"{'bg-primary': isPrimary}"}},[o("q-toolbar",[o("q-toolbar-title",[e._v("\n              Page Details\n            ")])],1),o("editPage",{attrs:{data:this.newEvent}}),o("q-inner-loading",{attrs:{visible:e.eventPageLoading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1),o("q-modal",{attrs:{"content-css":{minWidth:"50vw",minHeight:"95vh"}},on:{hide:e.clearEventModal},model:{value:e.eventPagePhotoModal,callback:function(t){e.eventPagePhotoModal=t},expression:"eventPagePhotoModal"}},[o("q-modal-layout",{attrs:{"content-class":"{'bg-primary': isPrimary}"}},[o("q-toolbar",[o("q-toolbar-title",[e._v("\n              Page Photos\n            ")])],1),o("editPagePhotos",{attrs:{data:this.newEvent}}),o("q-inner-loading",{attrs:{visible:e.eventPageLoading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1),o("q-page-container",[o("router-view")],1)],1)},a=[],s=(o("ls82"),o("yXPU")),i=o.n(s),r=(o("91GP"),o("INYr"),o("SRfc"),o("lSNA")),l=o.n(r),c=o("ta7f"),d=o("Xnr/"),u=o("ivd3"),h={components:{editPage:d["a"],editPagePhotos:u["a"]},mounted:function(){this.storageRef=this.$firebase.storage().ref(),this.$bindAsArray("events",this.$database.ref("events")),this.$bindAsArray("courses",this.$database.ref("settings/courses").orderByChild("courseName"))},validations:function(){return l()({uploadedPhoto:{required:c["required"]},newEvent:{eventName:{required:c["required"]},eventCode:{required:c["required"]},genderRestriction:{required:c["required"]}}},"uploadedPhoto",{required:c["required"]})},watch:{eventCode:{handler:function(){this.hasDuplicateEventCode()},deep:!0}},computed:{isNotGreaterThanFromTo:function(){return!1===this.newEvent.ageRange.infant&&(parseInt(this.range.min)<4?(console.log("min < 4 range min > 60"),!0):parseInt(this.range.max)>60?(console.log("max > 60"),!0):parseInt(this.range.min)>parseInt(this.range.max)&&(console.log("min",this.range.min),console.log("max",this.range.max),console.log("range min > mx"),!0))},isEmptyAgeRangeType:function(){return!!this.newEvent.ageRange.infant&&(""===this.newEvent.ageRange.type||void 0)},events2:{get:function(){return this.$store.state.startUp.events},set:function(e){this.$store.state.startUp.events=e}},eventModal:{get:function(){return this.$store.state.users.eventModal},set:function(e){this.$store.state.users.eventModal=e}},eventLoading:{get:function(){return this.$store.state.users.eventLoading},set:function(e){this.$store.state.users.eventLoading=e}},photoAdded:function(e){var t=this.$refs.eventPhotoLogoRef.files[0];this.uploadedPhoto=t},columns:function(){return this.$store.state.users.columns},eventState:{get:function(){return this.$store.state.users.getEvents},set:function(e){this.$store.commit("users/getEvents",e)}},acroEventCode:{get:function(){try{var e=this.newEvent.eventName,t=e.match(/\b(\w)/g),o=t.join("");return this.newEvent.eventCode=o,this.newEvent.eventCode}catch(e){}},set:function(e){this.newEvent.eventCode=e}},infantOpt:function(){for(var e=[],t=7;t<=11;t++)e.push(t);var o=this.$lodash.map(e,function(e){return{label:e+"months",value:e/12}});return o},below4:function(){"infant"===this.newEvent.ageRange.type?(this.newEvent.ageRange.min="7 months",this.newEvent.ageRange.max="1yr.4months"):"todler"===this.newEvent.ageRange.type?(this.newEvent.ageRange.min="1yr.5months",this.newEvent.ageRange.max="3yr.11months"):(this.newEvent.ageRange.min=0,this.newEvent.ageRange.max=0)},eventPageLoading:function(){return this.$store.getters["users/getEventPageLoading"]},eventPageModal:{get:function(){return this.$store.state.users.eventPageModal},set:function(e){this.$store.commit("users/updateEventPageModal",e)}},eventPagePhotoModal:{get:function(){return this.$store.state.users.eventPagePhotoModal},set:function(e){this.$store.commit("users/updateEventPagePhotosModal",e)}},courseOpt:function(){var e=this.$lodash.map(this.courses,function(e){return{label:e.courseName,value:e[".key"]}});return e}},data:function(){return{isDuplicateCode:!1,customEventCode:"",isCustomEventCode:!1,storageRef:null,uploadedPhoto:null,eventPhotoLogo:"",dense:!0,events:[],courses:[],range:{min:4,max:60},newEvent:{eventName:"",eventCode:"",course:"",ageRange:{min:"",max:"",infant:!1,type:""},genderRestriction:"",description:"",seasons:[]},genderRestricOpt:[{label:"Male Only",value:"male"},{label:"Female Only",value:"female"},{label:"None (Male/Female)",value:"none(male/female)"}],editPageModal:!1,pagePhotoModal:!1,isEdit:!1,loading:!1,filter:"",tableLoading:!1,pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10}}},methods:{getAgeType:function(e){return e.ageRange.infant?this.$lodash.capitalize(e.ageRange.type):""},getLatestSeason:function(e){try{return"".concat(e.seasons.length)}catch(e){return"No Season Yet"}},getAgeRange:function(e){return"".concat(e.ageRange.min," - ").concat(e.ageRange.max)},viewSchedule:function(e){var t=e.row[".key"];this.$router.push("/viewEventSchedules/".concat(t))},hasDuplicateEventCode:function(){var e=this,t=this.$lodash.findIndex(this.events2,function(t){return t.eventCode===e.newEvent.eventCode});-1!=t?(this.isDuplicateCode=!0,this.isCustomEventCode=!0,console.log("has duplicate")):(this.isDuplicateCode=!1,console.log("no duplicate"))},isHasSeason:function(e){return!e.seasons},viewSeason:function(e){this.$router.push("/eventseason/".concat(e.row[".key"]))},capitalize:function(){this.newEvent.eventName=this.$store.getters["settings/titleCase"](this.newEvent.eventName)},setEvents:function(){this.$store.dispatch("users/setupEvents",this.events)},getCourse:function(e){try{var t=this.$lodash.findIndex(this.courses,function(t){return t[".key"]===e});return this.courses[t].courseName}catch(e){}},clearEventModal:function(){delete this.newEvent[".key"],delete this.newEvent.__index,this.newEvent.eventName="",this.newEvent.eventCode="",this.newEvent.ageRange.min="",this.newEvent.ageRange.max="",this.newEvent.ageRange.infant=!1,this.range.min=4,this.range.max=60,this.newEvent.ageRange.type="",this.newEvent.genderRestriction="",this.newEvent.description="",this.isEdit=!1,this.uploadedPhoto=null,this.$refs.eventPhotoLogoRef.clear(),this.$refs.eventPhotoLogoRef.reset(),this.$bindAsArray("events",this.$database.ref("events"))},showEventPagePhotoModal:function(e){this.newEvent=Object.assign({},e.row),this.editPageModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate(),this.eventPagePhotoModal=!0,this.$store.dispatch("users/updateEvent",this.newEvent)},showEventPageModal:function(e){this.newEvent=Object.assign({},e.row),this.editPageModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate(),this.$store.dispatch("users/openEventPageModal"),this.$store.dispatch("users/updatePages",this.newEvent.page)},showEvent:function(e){this.newEvent=Object.assign({},e.row),console.log("event",this.newEvent),this.isEdit=!0,this.eventModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate()},addNewEvent:function(){var e=this;this.$v.uploadedPhoto.$touch(),this.$v.newEvent.$touch(),console.log("new event",this.newEvent),this.$v.uploadedPhoto.$error||this.$v.newEvent.$error||this.isDuplicateCode||this.isEmptyAgeRangeType||this.isNotGreaterThanFromTo?this.$q.notify("Please review fields again."):this.$q.dialog({title:"Save Confirmation",message:"Do you want to save?",ok:"Yes",cancel:"No"}).then(function(){e.eventLoading=!0,e.$store.dispatch("users/addNewEvent",{newEvent:e.newEvent,range:e.range,eventLogo:e.uploadedPhoto}).then(function(){e.eventLoading=!1,e.$router.push("/eventseason/".concat(e.$store.state.users.eventKey))})}).catch(function(){})},editEvent:function(){var e=this;this.loading=!0;var t=Object.assign({},this.newEvent);t.eventCode=this.acroEventCode;var o=t[".key"];if(delete t[".key"],t.ageRange.infant||(t.ageRange.min=this.range.min+"yrs old",t.ageRange.max=this.range.max+"yrs old",t.ageRange.type="above 4"),console.log("uploaded photo",this.uploadedPhoto),null!=this.uploadedPhoto){console.log("photo is null");var n=function(){var o=i()(regeneratorRuntime.mark(function o(){var n;return regeneratorRuntime.wrap(function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.$store.getters["users/uploadEventLogo"]({e:t,eL:e.uploadedPhoto});case 2:return n=o.sent,o.abrupt("return",n);case 4:case"end":return o.stop()}},o,this)}));return function(){return o.apply(this,arguments)}}();n().then(function(n){console.log("url",n),t.pagePhotos.eventLogoUrl=n,e.$firebaseRefs.events.child(o).update(t).then(function(){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"".concat(t.eventName," has been succesfully updated"),type:"positive",color:"positive",textColor:"white",icon:"info"})}).catch(function(t){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"An Error Occured",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error",t)})}).catch(function(e){console.log("an error occur",e)})}else this.$firebaseRefs.events.child(o).update(t).then(function(){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"".concat(t.eventName," has been succesfully updated"),type:"positive",color:"positive",textColor:"white",icon:"info"})}).catch(function(t){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"An Error Occured",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error",t)})},deleteEvent:function(e){var t=this,o=this,n=e.row[".key"];this.$q.dialog({title:"Delete Confirmation",message:"Do you want to delete ".concat(e.row.eventName,"?"),ok:"Yes",cancel:"No"}).then(function(){o.$firebaseRefs.events.child(n).remove().then(function(){t.$q.notify({message:"".concat(e.row.eventName," deleted"),type:"info",color:"info",textColor:"white",icon:"info"})}).catch(function(e){t.$q.notify({message:"An Error occur",type:"info",color:"info",textColor:"white",icon:"info"}),console.log("err",e)})}).catch(function(){})},isOngoing:function(e){var t=e.row;try{return"ongoing"!==t.seasons[0].status}catch(e){return!0}},test:function(){this.$v.uploadedPhoto.$touch(),this.$v.newEvent.$touch(),console.log("this.$v.uploadedPhoto.$touch()",this.$v.uploadedPhoto.$error),console.log("this.$v.newEvent.$touch()",this.$v.newEvent.$error),console.log("new event",this.newEvent)}}},g=h,v=(o("iTzp"),o("KHd+")),p=Object(v["a"])(g,n,a,!1,null,null,null);t["default"]=p.exports},"Xnr/":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout-padding"},[o("div",[o("p",{staticClass:"caption"},[e._v("Header")]),o("q-editor",{model:{value:e.page.header,callback:function(t){e.$set(e.page,"header",t)},expression:"page.header"}}),o("p",{staticClass:"caption"},[e._v("Content")]),o("q-editor",{model:{value:e.page.content,callback:function(t){e.$set(e.page,"content",t)},expression:"page.content"}}),o("p",{staticClass:"caption"},[e._v("Footer")]),o("q-editor",{model:{value:e.page.footer,callback:function(t){e.$set(e.page,"footer",t)},expression:"page.footer"}}),o("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"Save"},on:{click:e.savePageData}})],1)])},a=[],s={props:{data:{event:Object}},mounted:function(){console.log("data in pagemodal",this.event)},computed:{events:function(){return this.$store.getters["users/getEvents"]},page:function(){return this.$store.getters["users/getPages"]},modalState:function(){this.$store.state.users.eventPageModal||(console.log("modal is close"),this.clearData())}},data:function(){return{}},methods:{clearData:function(){this.page.header="",this.page.content="",this.page.footer=""},savePageData:function(){console.log("page in header",this.page);var e=this.$firebase.database();this.$store.dispatch("users/addEventPage",{payload:this.data,pageData:this.page,whatThis:e,quasu:this.$q})}}},i=s,r=o("KHd+"),l=Object(r["a"])(i,n,a,!1,null,null,null);t["a"]=l.exports},iTzp:function(e,t,o){"use strict";var n=o("wwHK"),a=o.n(n);a.a},ivd3:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"q-pa-md"},[o("p",{staticClass:"caption"},[e._v("Event Logo")]),o("img",{attrs:{src:e.getEventPhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),o("q-uploader",{ref:"upld",staticClass:"fields",attrs:{url:e.pagePhotos.eventLogoUrl,name:"eventLogo","hide-upload-progress":"","float-label":"Upload Event Logo","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded},remove:function(t){e.photoRemoved}}}),o("span",[e._v(e._s(e.progress1)+"%")]),o("p",{staticClass:"caption"},[e._v("Home Image")]),o("img",{attrs:{src:e.getHomePhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),o("q-uploader",{ref:"upld2",staticClass:"fields",attrs:{url:e.pagePhotos.homeImageUrl,name:"homeImageUrl","hide-upload-progress":"","float-label":"Up\n\t        load Home Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded2},remove:function(t){e.photoRemoved2}}}),o("span",[e._v(e._s(e.progress2)+"%")]),o("p",{staticClass:"caption"},[e._v("Title Image")]),o("img",{attrs:{src:e.getTitlePhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),o("q-uploader",{ref:"upld3",staticClass:"fields",attrs:{url:e.pagePhotos.titleImageUrl,name:"titleImageUrl","hide-upload-progress":"","float-label":"Upload Title Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded3},remove:function(t){e.photoRemoved3}}}),o("span",[e._v(e._s(e.progress3)+"%")]),o("p",{staticClass:"caption"},[e._v("Registration Image")]),o("img",{attrs:{src:e.getRegistrationPhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),o("q-uploader",{ref:"upld4",staticClass:"fields",attrs:{url:e.pagePhotos.registrationImageUrl,name:"registrationImageUrl","hide-upload-progress":"","float-label":"Upload Registration Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded4},remove:function(t){e.photoRemoved4}}}),o("span",[e._v(e._s(e.progress4)+"%")])],1),o("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"Save"},on:{click:e.saveItemPhoto}}),o("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"clear"},on:{click:e.clearContent}})],1)},a=[],s=(o("f3/d"),{mounted:function(){this.storageRef=this.$firebase.storage().ref()},props:{data:{event:Object}},computed:{photoAdded:function(e){var t=this.$refs.upld.files[0];this.uploadedPhoto=t},photoAdded2:function(e){var t=this.$refs.upld2.files[0];this.uploadedPhoto2=t},photoAdded3:function(e){var t=this.$refs.upld3.files[0];this.uploadedPhoto3=t},photoAdded4:function(e){var t=this.$refs.upld4.files[0];this.uploadedPhoto4=t},photoRemoved:function(){this.uploadedPhoto=null},photoRemoved2:function(){this.uploadedPhoto2=null},photoRemoved3:function(){this.uploadedPhoto3=null},photoRemoved4:function(){this.uploadedPhoto4=null},event:function(){return this.$store.getters["users/getEvent"]},modalState:function(){this.$store.state.users.eventPagePhotoModal||(console.log("modal",this.$store.state.users.eventPagePhotoModal),this.clearData())},getEventPhotoUrl:function(){try{return this.event.pagePhotos.eventLogoUrl}catch(e){}},getHomePhotoUrl:function(){try{return this.event.pagePhotos.homeImageUrl}catch(e){}},getRegistrationPhotoUrl:function(){try{return this.event.pagePhotos.registrationImageUrl}catch(e){}},getTitlePhotoUrl:function(){try{return this.event.pagePhotos.titleImageUrl}catch(e){}}},data:function(){return{storageRef:null,uploadedPhoto:null,uploadedPhoto2:null,uploadedPhoto3:null,uploadedPhoto4:null,pagePhotos:{eventLogoUrl:"",homeImageUrl:"",titleImageUrl:"",registrationImageUrl:""},progress1:0,progress2:0,progress3:0,progress4:0}},methods:{clearContent:function(){this.uploadedPhoto=null,this.uploadedPhoto2=null,this.uploadedPhoto3=null,this.uploadedPhoto4=null,this.pagePhotos={eventLogoUrl:"",homeImageUrl:"",titleImageUrl:"",registrationImageUrl:""},this.progress1=0,this.progress2=0,this.progress3=0,this.progress4=0,this.$refs.upld.clear(),this.$refs.upld2.clear(),this.$refs.upld3.clear(),this.$refs.upld4.clear(),this.$refs.upld.reset(),this.$refs.upld2.reset(),this.$refs.upld3.reset(),this.$refs.upld4.reset()},saveItemPhoto:function(){this.$store.state.users.eventPageLoading=!0,this.upload1()},upload1:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld.name)).put(this.uploadedPhoto);t.on("state_changed",function(t){var o=t.bytesTransferred/t.totalBytes*100;e.progress1=o},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.eventLogoUrl=t,e.upload2()})})},upload2:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld2.name)).put(this.uploadedPhoto2);t.on("state_changed",function(t){var o=t.bytesTransferred/t.totalBytes*100;e.progress2=o},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.homeImageUrl=t,e.upload3()})})},upload3:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld3.name)).put(this.uploadedPhoto3);t.on("state_changed",function(t){var o=t.bytesTransferred/t.totalBytes*100;e.progress3=o},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.titleImageUrl=t,e.upload4()})})},upload4:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld4.name)).put(this.uploadedPhoto4);t.on("state_changed",function(t){var o=t.bytesTransferred/t.totalBytes*100;e.progress4=o},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.registrationImageUrl=t,e.event.pagePhotos=e.pagePhotos,console.log(e.event);var o=e.$firebase.database();setTimeout(function(){e.$store.dispatch("users/updateEventPhotos",{payload:e.event,whatvm:o,quasu:e.$q}),e.progress1=0,e.progress2=0,e.progress3=0,e.progress4=0,e.clearContent(),e.$store.state.users.eventPagePhotoModal=!1},3e3)})})}}}),i=s,r=o("KHd+"),l=Object(r["a"])(i,n,a,!1,null,null,null);t["a"]=l.exports},wwHK:function(e,t,o){}}]);