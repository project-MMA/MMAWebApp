(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{CJdg:function(e,t,a){"use strict";var i=a("LgsZ"),s=a.n(i);s.a},LgsZ:function(e,t,a){},n3xn:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{attrs:{inverted:""}},[a("q-toolbar-title",[e._v("\n\t\t    SMS Settings\n\t\t  ")]),e.newTemplate?a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"primary",icon:"add",label:"New Template"},on:{click:e.createNewTemplate}}):e._e(),e.editTemplate?a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"secondary",icon:"edit",label:"Edit Template"},on:{click:e.editModeOn}}):e._e(),e.saveTemplate?a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"dark",icon:"save",label:"Save Template"},on:{click:e.saveNewTemplate}}):e._e(),e.saveTemplate?a("q-btn",{staticClass:"q-mx-sm",attrs:{color:"red",icon:"close",label:"Cancel"},on:{click:e.cancelNewTemplate}}):e._e()],1),a("div",{staticClass:"flex"},[a("div",{staticClass:"row inline"},[a("div",{staticClass:"col-11 q-ma-md"},[a("q-list",{attrs:{"inset-separator":"",link:""}},[a("q-list-header",[e._v("SMS Templates")]),e._l(e.SMStemplates,function(t,i){return a("q-item",{key:i},[a("div",{on:{click:function(a){e.clickTemplate(t)}}},[a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.name))])],1)],1)])})],2)],1)]),a("div",{staticClass:"col q-ma-sm"},[a("div",{staticClass:"col-4 q-px-lg"},[e.saveTemplate?a("q-input",{staticClass:"q-mb-md",attrs:{"float-label":"Template Name",inverted:"",color:"dark"},model:{value:e.nameTemplate,callback:function(t){e.nameTemplate=t},expression:"nameTemplate"}}):e._e(),a("q-field",{staticClass:"q-ma-sm",attrs:{icon:"textsms",label:"Template",count:300,"error-label":"SMS Template Character Maxed Out","label-width":"12"}},[a("q-input",{attrs:{type:"textarea","float-label":"SMS Template","max-height":1e3,rows:"10",readonly:e.readonly},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1),a("q-field",{staticClass:"q-ma-lg",attrs:{icon:"playlist_add",label:"Add Data to Template","label-width":"12"}},[a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"First Name"},on:{click:function(t){e.addToTemplate("fname")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Last Name"},on:{click:function(t){e.addToTemplate("lname")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Activity Date"},on:{click:function(t){e.addToTemplate("date")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Activity Time"},on:{click:function(t){e.addToTemplate("time")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Event Name"},on:{click:function(t){e.addToTemplate("event")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Activity Location"},on:{click:function(t){e.addToTemplate("location")}}}),a("q-btn",{staticClass:"q-ma-xs",attrs:{color:"dark",outline:"",rounded:"",size:"sm",label:"Activity Details"},on:{click:function(t){e.addToTemplate("details")}}})],1)],1)])])],1)},s=[],l=(a("f3/d"),a("EbCt")),n=a("FRYs"),o=a.n(n),c=a("ta7f"),m=(a("wdPS"),{created:function(){},mounted:function(){this.$bindAsArray("testData",this.$database.ref("contractSigned").orderByChild("accountNumber").equalTo("IZRDZI3QGX")),this.$bindAsArray("courses",this.$database.ref("settings/courses")),this.$bindAsArray("activities",this.$database.ref("settings/activityList")),this.$bindAsArray("SMStemplates",this.$database.ref("SMStemplates")),console.log("sms",this.SMStemplates)},validations:function(){return{courseName:{required:c["required"]},activityName:{required:c["required"]}}},components:{SlickList:l["SlickList"],SlickItem:l["SlickItem"],draggable:o.a},computed:{dragOptions:function(){return{animation:0,ghostClass:"ghost",group:"label",disabled:this.editActivity}}},data:function(){return{autofocus:!1,readonly:!0,area:"",nameTemplate:"",newTemplate:!0,editTemplate:!1,editMode:!1,saveTemplate:!1,selectedTemplate:{},testData:[],SMStemplates:[],editActivity:!1,myArray:[],activityArrangement:[],list:["Foo","Bar","Baz"],items:["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8"],dayAfter:{dateNumber:1,dateType:"week"},dateTypeOpt:[{label:"days",value:"days"},{label:"weeks",value:"weeks"},{label:"months",value:"months"}],activityIndex:-1,activities:[],kidsFashionCourse:[],basicCourse:[],fullCourse:[],isEdit:!1,checked:"",courseName:"",selectCourse:{},activityName:"",newActivities:"",activityStatus:{time:!1,location:!1,details:!1,dueDate:!1},newActivity:{eventType:"",activityName:"",courseKey:"",time:!1,location:!1,details:!1,dueDate:!1}}},methods:{addToTemplate:function(e){if(!1===this.readonly){var t=e,a=this.area;a=a+"${"+t+"}",this.area=a}},createNewTemplate:function(){this.readonly=!1,this.saveTemplate=!0,this.newTemplate=!1,this.editTemplate=!1,this.area="",this.nameTemplate=""},cancelNewTemplate:function(){this.readonly=!0,this.area="",this.nameTemplate="",this.saveTemplate=!1,this.newTemplate=!0,this.selectedTemplate={},this.editMode=!1},saveNewTemplate:function(){var e=this;if(!0===this.editMode){var t=this.selectedTemplate,a=t[".key"];console.log(a),delete t[".key"];var i={name:this.nameTemplate,template:this.area};this.$database.ref("SMStemplates").child(a).update(i).then(function(){e.$q.notify({message:"SMS Template Updated",type:"positive",color:"positive",textColor:"white",icon:"positive"}),e.cancelNewTemplate(),e.$forceUpdate(),e.$bindAsArray("SMStemplates",e.$database.ref("SMStemplates"))})}else{var s={name:this.nameTemplate,template:this.area};this.$database.ref("SMStemplates").push(s).then(function(){e.$q.notify({message:"SMS Template Added",type:"positive",color:"positive",textColor:"white",icon:"positive"}),e.cancelNewTemplate()})}},clickTemplate:function(e){this.area=e.template,this.nameTemplate=e.name,this.editTemplate=!0,this.selectedTemplate=e,console.log(this.selectedTemplate)},editModeOn:function(){this.saveTemplate=!0,this.editTemplate=!1,this.newTemplate=!1,this.readonly=!1,this.editMode=!0}}}),r=m,d=(a("CJdg"),a("KHd+")),p=Object(d["a"])(r,i,s,!1,null,null,null);t["default"]=p.exports}}]);