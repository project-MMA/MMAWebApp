(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{B5Fk:function(e,t,a){"use strict";var o=a("XqeN"),s=a.n(o);s.a},"Xnr/":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-padding"},[a("div",[a("p",{staticClass:"caption"},[e._v("Header")]),a("q-editor",{model:{value:e.page.header,callback:function(t){e.$set(e.page,"header",t)},expression:"page.header"}}),a("p",{staticClass:"caption"},[e._v("Content")]),a("q-editor",{model:{value:e.page.content,callback:function(t){e.$set(e.page,"content",t)},expression:"page.content"}}),a("p",{staticClass:"caption"},[e._v("Footer")]),a("q-editor",{model:{value:e.page.footer,callback:function(t){e.$set(e.page,"footer",t)},expression:"page.footer"}}),a("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"Save"},on:{click:e.savePageData}})],1)])},s=[],n={props:{data:{event:Object}},mounted:function(){console.log("data in pagemodal",this.event)},computed:{events:function(){return this.$store.getters["users/getEvents"]},page:function(){return this.$store.getters["users/getPages"]},modalState:function(){this.$store.state.users.eventPageModal||(console.log("modal is close"),this.clearData())}},data:function(){return{}},methods:{clearData:function(){this.page.header="",this.page.content="",this.page.footer=""},savePageData:function(){console.log("page in header",this.page);var e=this.$firebase.database();this.$store.dispatch("users/addEventPage",{payload:this.data,pageData:this.page,whatThis:e,quasu:this.$q})}}},l=n,i=a("KHd+"),r=Object(i["a"])(l,o,s,!1,null,null,null);t["a"]=r.exports},XqeN:function(e,t,a){},ivd3:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-md"},[a("p",{staticClass:"caption"},[e._v("Event Logo")]),a("img",{attrs:{src:e.getEventPhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),a("q-uploader",{ref:"upld",staticClass:"fields",attrs:{url:e.pagePhotos.eventLogoUrl,name:"eventLogo","hide-upload-progress":"","float-label":"Upload Event Logo","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded},remove:function(t){e.photoRemoved}}}),a("span",[e._v(e._s(e.progress1)+"%")]),a("p",{staticClass:"caption"},[e._v("Home Image")]),a("img",{attrs:{src:e.getHomePhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),a("q-uploader",{ref:"upld2",staticClass:"fields",attrs:{url:e.pagePhotos.homeImageUrl,name:"homeImageUrl","hide-upload-progress":"","float-label":"Up\n\t        load Home Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded2},remove:function(t){e.photoRemoved2}}}),a("span",[e._v(e._s(e.progress2)+"%")]),a("p",{staticClass:"caption"},[e._v("Title Image")]),a("img",{attrs:{src:e.getTitlePhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),a("q-uploader",{ref:"upld3",staticClass:"fields",attrs:{url:e.pagePhotos.titleImageUrl,name:"titleImageUrl","hide-upload-progress":"","float-label":"Upload Title Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded3},remove:function(t){e.photoRemoved3}}}),a("span",[e._v(e._s(e.progress3)+"%")]),a("p",{staticClass:"caption"},[e._v("Registration Image")]),a("img",{attrs:{src:e.getRegistrationPhotoUrl,alt:"Image not set",width:"100px",height:"100px"}}),a("q-uploader",{ref:"upld4",staticClass:"fields",attrs:{url:e.pagePhotos.registrationImageUrl,name:"registrationImageUrl","hide-upload-progress":"","float-label":"Upload Registration Image","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded4},remove:function(t){e.photoRemoved4}}}),a("span",[e._v(e._s(e.progress4)+"%")])],1),a("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"Save"},on:{click:e.saveItemPhoto}}),a("q-btn",{staticClass:"full-width textbox",attrs:{color:"primary",label:"clear"},on:{click:e.clearContent}})],1)},s=[],n=(a("f3/d"),{mounted:function(){this.storageRef=this.$firebase.storage().ref()},props:{data:{event:Object}},computed:{photoAdded:function(e){var t=this.$refs.upld.files[0];this.uploadedPhoto=t},photoAdded2:function(e){var t=this.$refs.upld2.files[0];this.uploadedPhoto2=t},photoAdded3:function(e){var t=this.$refs.upld3.files[0];this.uploadedPhoto3=t},photoAdded4:function(e){var t=this.$refs.upld4.files[0];this.uploadedPhoto4=t},photoRemoved:function(){this.uploadedPhoto=null},photoRemoved2:function(){this.uploadedPhoto2=null},photoRemoved3:function(){this.uploadedPhoto3=null},photoRemoved4:function(){this.uploadedPhoto4=null},event:function(){return this.$store.getters["users/getEvent"]},modalState:function(){this.$store.state.users.eventPagePhotoModal||(console.log("modal",this.$store.state.users.eventPagePhotoModal),this.clearData())},getEventPhotoUrl:function(){try{return this.event.pagePhotos.eventLogoUrl}catch(e){}},getHomePhotoUrl:function(){try{return this.event.pagePhotos.homeImageUrl}catch(e){}},getRegistrationPhotoUrl:function(){try{return this.event.pagePhotos.registrationImageUrl}catch(e){}},getTitlePhotoUrl:function(){try{return this.event.pagePhotos.titleImageUrl}catch(e){}}},data:function(){return{storageRef:null,uploadedPhoto:null,uploadedPhoto2:null,uploadedPhoto3:null,uploadedPhoto4:null,pagePhotos:{eventLogoUrl:"",homeImageUrl:"",titleImageUrl:"",registrationImageUrl:""},progress1:0,progress2:0,progress3:0,progress4:0}},methods:{clearContent:function(){this.uploadedPhoto=null,this.uploadedPhoto2=null,this.uploadedPhoto3=null,this.uploadedPhoto4=null,this.pagePhotos={eventLogoUrl:"",homeImageUrl:"",titleImageUrl:"",registrationImageUrl:""},this.progress1=0,this.progress2=0,this.progress3=0,this.progress4=0,this.$refs.upld.clear(),this.$refs.upld2.clear(),this.$refs.upld3.clear(),this.$refs.upld4.clear(),this.$refs.upld.reset(),this.$refs.upld2.reset(),this.$refs.upld3.reset(),this.$refs.upld4.reset()},saveItemPhoto:function(){this.$store.state.users.eventPageLoading=!0,this.upload1()},upload1:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld.name)).put(this.uploadedPhoto);t.on("state_changed",function(t){var a=t.bytesTransferred/t.totalBytes*100;e.progress1=a},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.eventLogoUrl=t,e.upload2()})})},upload2:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld2.name)).put(this.uploadedPhoto2);t.on("state_changed",function(t){var a=t.bytesTransferred/t.totalBytes*100;e.progress2=a},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.homeImageUrl=t,e.upload3()})})},upload3:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld3.name)).put(this.uploadedPhoto3);t.on("state_changed",function(t){var a=t.bytesTransferred/t.totalBytes*100;e.progress3=a},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.titleImageUrl=t,e.upload4()})})},upload4:function(){var e=this,t=this.storageRef.child("pagePhotos/".concat(this.event.eventCode,"_").concat(this.$refs.upld4.name)).put(this.uploadedPhoto4);t.on("state_changed",function(t){var a=t.bytesTransferred/t.totalBytes*100;e.progress4=a},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){t.snapshot.ref.getDownloadURL().then(function(t){e.pagePhotos.registrationImageUrl=t,e.event.pagePhotos=e.pagePhotos,console.log(e.event);var a=e.$firebase.database();setTimeout(function(){e.$store.dispatch("users/updateEventPhotos",{payload:e.event,whatvm:a,quasu:e.$q}),e.progress1=0,e.progress2=0,e.progress3=0,e.progress4=0,e.clearContent(),e.$store.state.users.eventPagePhotoModal=!1},3e3)})})}}}),l=n,i=a("KHd+"),r=Object(i["a"])(l,o,s,!1,null,null,null);t["a"]=r.exports},lwme:function(e,t,a){"use strict";var o=function(e){0!==e&&(e=Math.abs(e)||10);var t=s();if(0===e)throw new Error("Lenght need to be an integer different than 0.");if(e>10){var a=~~(e/10);while(a--)t+=s()}return t.substr(0,e)},s=function(){return Math.random().toString(36).slice(2).toUpperCase()};e.exports=o},uMQo:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("q-toolbar",{attrs:{color:"faded"}},[a("q-toolbar-title",[e._v("\n      Manage Models\n      ")])],1),a("q-tabs",{attrs:{color:"teal","no-pane-border":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Contract Signed"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",label:"Show Up"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",label:"In-House Models"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-4"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-5"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("contract-signed",{staticStyle:{width:"100%"}})],1),a("q-tab-pane",{attrs:{name:"tab-2"}},[a("showup-model"),e._v("t\n    ")],1),a("q-tab-pane",{attrs:{name:"tab-3"}},[a("inhouse-model")],1),a("q-tab-pane",{attrs:{name:"tab-4"}},[e._v("Tab Four")]),a("q-tab-pane",{attrs:{name:"tab-5"}},[e._v("Tab Five")])],1),a("q-page-container",[a("router-view")],1)],1)},s=[],n=(a("91GP"),a("INYr"),a("SRfc"),a("Xnr/")),l=a("ivd3"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-ma-md"},[a("q-table",{attrs:{title:"Contract Signed Models",data:e.contractSigned,loading:e.tableLoading,columns:e.columns,filter:e.filter,pagination:e.pagination,"row-key":"code"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-search",{staticClass:"col-10",attrs:{color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"body",fn:function(t){return a("q-tr",{staticClass:"cursor-pointer",attrs:{props:t},nativeOn:{click:function(a){e.rowClick(t.row)}}},e._l(t.cols,function(o){return a("q-td",{key:o.name,attrs:{props:t}},[e._v("\n\t          "+e._s(o.value)+"\n\t          "),"batch"===o.name?a("p",[e._v(e._s(e.getBatchNumber(t)))]):e._e()])}))}}])})],1),a("q-modal",{attrs:{"content-css":{minWidth:"80vh",minHeight:"95vh"}},on:{hide:function(t){e.isEdit=!1}},model:{value:e.viewModelModal,callback:function(t){e.viewModelModal=t},expression:"viewModelModal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"faded"},slot:"header"},[a("q-toolbar-title",[e._v("\n\t\t      \tAccount Number: "+e._s(e.model.accountNumber)+"\n\t\t      \t "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n\t\t\t\t      Date Signed: "+e._s(e.$moment(e.model.dateSigned).format("ll"))+"\n\t\t\t\t    ")])]),e.isEdit?e._e():a("q-btn",{staticClass:"q-mx-sm",attrs:{rounded:"",color:"secondary",size:"sm",label:"Edit",icon:"edit"},on:{click:function(t){e.isEdit=!0}}}),e.isEdit||e.isAlreadyInhouse?e._e():a("q-btn",{staticClass:"q-mr-xl",attrs:{label:"Copy To InHouse",rounded:"",color:"positive",size:"sm",icon:"file_copy"},on:{click:function(t){e.copyToInhouse()}}}),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"float-right",attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e.isEdit?a("div",{staticClass:"row",attrs:{slot:"footer"},slot:"footer"},[a("q-btn",{staticClass:"full-width col",attrs:{color:"positive",label:"Save",icon:"save"},on:{click:function(t){e.saveChange()}}}),a("q-btn",{staticClass:"full-width col",attrs:{color:"negative",label:"Cancel",icon:"cancel"},on:{click:function(t){e.isEdit=!1}}})],1):e._e(),a("div",{staticClass:"q-ma-md"},[a("div",[a("div",{staticClass:"flex flex-center col-md col"},[a("div",{staticClass:"q-ma-md",style:"border-radius:15px; width: 320px;height:225px;background-position: center;background-image: url("+e.model.photo+");background-repeat: no-repeat;background-size: cover;border: 2px solid black;"}),e.model.photo2?a("div",{style:"border-radius:15px; width: 320px;height:225px;background-position: center;background-image: url("+e.model.photo2+");background-repeat: no-repeat;background-size: cover;border: 2px solid black;"}):e._e()])]),a("q-tabs",{attrs:{color:"dark"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Personal Information"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-4",label:"Ratings"},slot:"title"}),a("q-tab",{attrs:{slot:"title",disable:e.isEdit,name:"tab-2",label:"Payment Dues"},slot:"title"}),a("q-tab",{attrs:{slot:"title",disable:e.isEdit,name:"tab-3",label:"Activities Attended"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("q-chip",{staticClass:"q-body-1 q-mb-sm q-pa-sm",attrs:{color:"info"}},[e._v(e._s(e.model.eventName)+" - "+e._s(e.model.seasonName)+" - Batch "+e._s(e.getModelBatch)+" "),e.isEdit?e._e():a("q-btn",{staticClass:"q-ml-md",attrs:{color:"dark",rounded:"",icon:"edit",size:"xs",label:"Change Event"}})],1),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Last Name"},model:{value:e.model.lastName,callback:function(t){e.$set(e.model,"lastName",t)},expression:"model.lastName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"First Name"},model:{value:e.model.firstName,callback:function(t){e.$set(e.model,"firstName",t)},expression:"model.firstName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Middle Name"},model:{value:e.model.middleInitial,callback:function(t){e.$set(e.model,"middleInitial",t)},expression:"model.middleInitial"}})],1),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Age"},model:{value:e.model.age,callback:function(t){e.$set(e.model,"age",t)},expression:"model.age"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Gender"},model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}})],1),a("q-input",{staticClass:"q-mx-md",attrs:{readonly:!e.isEdit,type:"textarea","stack-label":"Address","max-height":100,rows:"5"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}}),a("div",{staticClass:"row q-my-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Telephone"},model:{value:e.model.telNumber,callback:function(t){e.$set(e.model,"telNumber",t)},expression:"model.telNumber"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Facebook Email"},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"col-5 q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Mobile Number"},model:{value:e.model.mobileNumber,callback:function(t){e.$set(e.model,"mobileNumber",t)},expression:"model.mobileNumber"}})],1),a("div",[a("q-input",{staticClass:"q-ma-md",attrs:{readonly:!e.isEdit,type:"textarea","max-height":100,rows:"5","stack-label":"Past Modeling Experience"},model:{value:e.model.pastModelExp,callback:function(t){e.$set(e.model,"pastModelExp",t)},expression:"model.pastModelExp"}})],1)],1),a("q-tab-pane",{attrs:{name:"tab-2"}},[a("span",{staticClass:"q-title"},[e._v("Payment Type: "+e._s(e.$lodash.capitalize(e.model.paymentTerms)))]),e._l(e.getModelsPaymentTransactions(e.model),function(t,o){return a("div",{key:o,staticClass:"q-ma-md"},[a("q-collapsible",{attrs:{popup:""}},[a("template",{slot:"header"},[a("q-item-side",[a("q-icon",{attrs:{name:"payment",size:"24px"}})],1),a("q-item-main",{attrs:{label:"Payment "+(o+1),sublabel:"Due Date: "+e.$moment(t.create_time).format("ll")}}),a("q-item-side",{attrs:{right:""}},[e.isPaid(t)?a("q-icon",{attrs:{name:"done",color:"positive",size:"24px"}}):e._e(),e.isPaymentOverDue(t)?a("q-icon",{attrs:{name:"highlight_off",color:"negative",size:"24px"}}):e._e()],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[e._v("Date Paid: "+e._s(e.$moment(t.create_time).format("ll")))]),a("p",[e._v("Payment ID: "+e._s(t.id))]),a("p",[e._v("Payment Status: "+e._s(t.state)+" ")]),a("p",[e._v("Amount Paid: P "+e._s(t.transaction_amount))])]),a("div",{staticClass:"col"},[a("p",[e._v("Payment Method: "+e._s(e.$lodash.capitalize(t.payer.payment_method))+" ")]),a("p",[e._v("Payer Info: ")]),a("p",{staticStyle:{"text-indent":"30pt"}},[e._v("Full Name: "+e._s(e.$lodash.capitalize(t.payer.payer_info.first_name))+" "+e._s(e.$lodash.capitalize(t.payer.payer_info.last_name)))]),a("p",{staticStyle:{"text-indent":"30pt"}},[e._v("Email: "+e._s(t.payer.payer_info.email))])])])],2)],1)})],2),a("q-tab-pane",{attrs:{name:"tab-3"}},[a("div",{},[a("q-list",{attrs:{highlight:""}},[a("q-list-header",[e._v("Activities Attended")]),e._l(e.modelActivityAttended,function(t,o){return a("q-item",{key:o,attrs:{tag:"label"}},[a("q-item-side",{attrs:{inverted:"",icon:"event_available",color:"info","text-color":"black"}}),a("q-item-main",[a("q-item-tile",{attrs:{label:""}},[e._v(e._s(t[".key"]))]),a("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(e.$moment(e.getActSchedule(t[".key"]).startDate).format("ll")))])],1)],1)})],2)],1)]),a("q-tab-pane",{attrs:{name:"tab-4"}},[a("div",{staticClass:"layout-padding"},[a("p",{staticClass:"q-title"},[e._v("Commercial")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.commercial,callback:function(t){e.$set(e.model.ratings,"commercial",t)},expression:"model.ratings.commercial"}}),a("p",{staticClass:"q-title"},[e._v("Photoshoot")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.photoshoot,callback:function(t){e.$set(e.model.ratings,"photoshoot",t)},expression:"model.ratings.photoshoot"}}),a("p",{staticClass:"q-title"},[e._v("Runway")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.runway,callback:function(t){e.$set(e.model.ratings,"runway",t)},expression:"model.ratings.runway"}})],1)])],1)],1)],1)],1)],1)},r=[],d=a("MVZn"),c=a.n(d),u=(a("rGqo"),a("yt8O"),a("lSNA")),m=a.n(u),h={name:"ContractSigned",mounted:function(){this.$bindAsArray("contractSigned",this.$database.ref("contractSigned")),this.$bindAsArray("schedules",this.$database.ref("event_schedules")),this.$bindAsArray("paymentRecords",this.$database.ref("payment_transactions")),this.$bindAsArray("attendance",this.$database.ref("attendance")),this.$bindAsArray("inHouseModels",this.$database.ref("inhouseModels")),this.$bindAsArray("schedules",this.$database.ref("event_schedules"))},computed:{getModelInfo:function(){try{var e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===model.accountNumber});return e[0]}catch(e){return[]}},modelActivityAttended:function(){var e=this,t=new Array;this.$lodash.map(this.attendance,function(a){e.$lodash.map(a,function(e,o,s){if(".key"!==o){var n,l=(n={},m()(n,".key",o),m()(n,"models",a[o].present),n);t.push(l)}})});for(var a=this.model[".key"],o=new Array,s=0;s<t.length;s++)for(var n=this.$lodash.keys(t[s].models),l=0;l<n.length;l++)a===n[l]&&o.push(t[s]);var i=this.$lodash.map(o,function(t){return t.startDate=e.getActSchedule(t[".key"]).startDate,t}),r=this.$lodash.orderBy(i,function(e){return new Date(e.startDate)},"asc");return r},isAlreadyInhouse:function(){var e=this,t=this.$lodash.findIndex(this.inHouseModels,function(t){return t[".key"]===e.model[".key"]});return!(t<=-1)},getAttendancePresents:function(){for(var e=this.attendance,t=new Array,a=0;a<e.length;a++)for(var o=this.$lodash.keys(e[a]),s=0;s<o.length;s++)t.push(e[a][o[s]].present);return this.$lodash.compact(t)},getModelBatch:function(){var e=this;try{var t=this.$lodash.filter(this.schedules,function(t){return t[".key"]===e.model.batchKey})[0];return t.batchNumber}catch(e){return""}}},data:function(){var e;return e={schedules:[],inHouseModels:[],attendance:[],paymentRecords:[],isEdit:!1,model:{ratings:{commercial:0,photoshoot:0,runway:0}},viewModelModal:!1},m()(e,"schedules",[]),m()(e,"contractSigned",[]),m()(e,"filter",""),m()(e,"tableLoading",!1),m()(e,"columns",[{name:"accntNumber",required:!0,label:"Account Number",align:"left",field:"accountNumber",sortable:!0},{name:"lastName",required:!0,label:"Last Name",align:"left",field:"lastName",sortable:!0},{name:"firstName",required:!0,label:"First Name",align:"left",field:"firstName",sortable:!0},{name:"event",required:!0,label:"Event",align:"left",field:"eventName",sortable:!0},{name:"season",required:!0,label:"Season",align:"left",field:"seasonName",sortable:!0},{name:"batch",required:!0,label:"Batch",align:"left",sortable:!0},{name:"gender",required:!0,label:"Gender",align:"left",field:"gender",sortable:!0},{name:"fbEmail",required:!0,label:"Facebook Email",align:"left",field:"email",sortable:!0}]),m()(e,"pagination",{sortBy:null,descending:!1,page:1,rowsPerPage:10}),e},methods:{getPaymentInfoEmail:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.payer.payer_info.email}catch(e){return""}},getPaymentInfoFullName:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return"".concat(a.payer.payer_info.last_name,", ").concat(a.payer.payer_info.first_name)}catch(e){return""}},getPaymentInfoMethod:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.payer.payment_method}catch(e){return""}},getPaymentInfoAmount:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.transaction_amount}catch(e){return""}},getPaymentStatus:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.state}catch(e){return""}},getPaymentDatePaid:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.create_time}catch(e){return""}},getPaymentInfoID:function(e){var t=this;try{var a=this.$lodash.filter(this.paymentRecords,function(a){return a.modelKey===t.model[".key"]&&a.title===e.id})[0];return a.id}catch(e){return""}},isPaymentOverDue:function(e){var t=this.$mathMixin.dayDiff(new Date,new Date(e.startDate));return!e.paidStatus&&(t<0||void 0)},isPaid:function(e){return e.paidStatus},rowClick:function(e){this.model=e,console.log("p",this.model),this.viewModelModal=!this.viewModelModal},getBatchNumber:function(e){try{var t=e.row.batchKey,a=this.$lodash.filter(this.schedules,function(e){return e[".key"]===t})[0];return a.batchNumber}catch(e){return""}},saveChange:function(){var e=this;this.$q.dialog({title:"Confirm",message:"Do you want to save change?",ok:"Save",cancel:"Cancel"}).then(function(){var t=c()({},e.model),a=t[".key"];delete t[".key"],e.$database.ref("contractSigned").child(a).update(t).then(function(){e.$q.notify({message:"Model Successfully change",type:"positive"}),e.isEdit=!1}).catch(function(t){e.$q.notify({message:"An error found, ".concat(t),type:"negative"}),e.isEdit=!1})}).catch(function(){})},copyToInhouse:function(){var e=this;this.$q.dialog({title:"Confirm",message:"Do you want to copy in Inhouse models?",ok:"Save",cancel:"Cancel"}).then(function(){var t=c()({},e.model),a=t[".key"];t.height="",t.chest=0,t.waist=0,t.hips=0,t.complexion="",t.shirtSize="",t.shoeSize=0,t.fbLink="",delete t[".key"],e.$database.ref("inhouseModels").child(a).set(t).then(function(){e.$q.notify({message:"Model Successfully copy to inhouse",type:"positive"})}).catch(function(t){e.$q.notify({message:"An error occur"+t,type:"negative"})})}).catch(function(){})},getActSchedule:function(e){for(var t=0;t<this.schedules.length;t++)for(var a=0;a<this.schedules[t].activities.length;a++)if(this.schedules[t].activities[a].id===e)return this.schedules[t].activities[a]},test:function(){var e=this.test();console.log("act sched",e)},getModelsPaymentTransactions:function(e){try{var t=e,a=this.$lodash.filter(this.paymentRecords,function(e){return e.modelKey===t[".key"]});return console.log("modelpayments",a),a}catch(e){return console.log("error",e),[]}}}},p=h,g=a("KHd+"),f=Object(g["a"])(p,i,r,!1,null,null,null),v=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-ma-md"},[a("q-table",{attrs:{title:"Show Up Models",data:e.showUpModels,loading:e.tableLoading,columns:e.columns,filter:e.filter,"no-data-label":"No Show Up Models",pagination:e.pagination,"row-key":"code"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-search",{staticClass:"col-10",attrs:{color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"body",fn:function(t){return a("q-tr",{staticClass:"cursor-pointer",attrs:{props:t},nativeOn:{click:function(a){e.rowClick(t.row)}}},e._l(t.cols,function(o){return a("q-td",{key:o.name,attrs:{props:t}},[e._v("\n          "+e._s(o.value)+"\n        ")])}))}},{key:"body-cell-batch",fn:function(t){return a("q-td",{attrs:{props:t}},[a("p",[e._v(e._s(e.getBatch(t)))])])}}])})],1),a("q-modal",{attrs:{"content-css":{minWidth:"80vh",minHeight:"95vh"}},on:{hide:function(t){e.isEdit=!1}},model:{value:e.viewModelModal,callback:function(t){e.viewModelModal=t},expression:"viewModelModal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"faded"},slot:"header"},[e.isEdit?e._e():a("q-btn",{attrs:{rounded:"",color:"secondary",size:"sm",label:"Edit",icon:"edit"},on:{click:function(t){e.isEdit=!0}}}),a("q-toolbar-title",[e._v("\n          "+e._s(e.model.firstName)+" "+e._s(e.model.middleInitial)+". "+e._s(e.model.lastName)+"\n           "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n            Date Added: "+e._s(e.$moment(e.model.dateAdded).format("ll"))+"\n          ")])]),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e.isEdit?a("div",{staticClass:"row",attrs:{slot:"footer"},slot:"footer"},[a("q-btn",{staticClass:"full-width col",attrs:{color:"positive",label:"Save",icon:"save"},on:{click:function(t){e.saveChange()}}}),a("q-btn",{staticClass:"full-width col",attrs:{color:"negative",label:"Cancel",icon:"cancel"},on:{click:function(t){e.isEdit=!1}}})],1):e._e(),a("div",{staticClass:"q-ma-md"},[a("div",[a("div",{staticClass:"flex flex-center col-md col"},[a("div",{staticClass:"q-ma-md",style:"border-radius:15px; width: 320px;height:225px;background-position: center;background-image: url("+e.model.photo+");background-repeat: no-repeat;background-size: cover;border: 2px solid black;"}),e.model.photo2?a("div",{style:"border-radius:15px; width: 320px;height:225px;background-position: center;background-image: url("+e.model.photo2+");background-repeat: no-repeat;background-size: cover;border: 2px solid black;"}):e._e()])]),a("q-tabs",{attrs:{color:"dark"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Personal Information"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("q-chip",{staticClass:"q-body-1 q-mb-sm q-pa-sm",attrs:{color:"info"}},[e._v(e._s(e.model.eventName)+" - "+e._s(e.model.seasonName)+" - Batch "+e._s(e.getModelBatch)+" "),e.isEdit?e._e():a("q-btn",{staticClass:"q-ml-md",attrs:{color:"dark",rounded:"",icon:"edit",size:"xs",label:"Change Event"}})],1),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Last Name"},model:{value:e.model.lastName,callback:function(t){e.$set(e.model,"lastName",t)},expression:"model.lastName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"First Name"},model:{value:e.model.firstName,callback:function(t){e.$set(e.model,"firstName",t)},expression:"model.firstName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Middle Name"},model:{value:e.model.middleInitial,callback:function(t){e.$set(e.model,"middleInitial",t)},expression:"model.middleInitial"}})],1),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Age"},model:{value:e.model.age,callback:function(t){e.$set(e.model,"age",t)},expression:"model.age"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Gender"},model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}})],1),a("q-input",{staticClass:"q-mx-md",attrs:{readonly:!e.isEdit,type:"textarea","stack-label":"Address","max-height":100,rows:"5"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}}),a("div",{staticClass:"row q-my-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Telephone"},model:{value:e.model.telNumber,callback:function(t){e.$set(e.model,"telNumber",t)},expression:"model.telNumber"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Facebook Email"},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"col-5 q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Mobile Number"},model:{value:e.model.mobileNumber,callback:function(t){e.$set(e.model,"mobileNumber",t)},expression:"model.mobileNumber"}})],1),a("div",[a("q-input",{staticClass:"q-ma-md",attrs:{readonly:!e.isEdit,type:"textarea","max-height":100,rows:"5","stack-label":"Past Modeling Experience"},model:{value:e.model.pastModelExp,callback:function(t){e.$set(e.model,"pastModelExp",t)},expression:"model.pastModelExp"}})],1)],1)],1)],1)],1)],1)],1)},y=[],q={name:"ShowupModels",mounted:function(){this.$bindAsArray("showUpModels",this.$database.ref("showUpModels"))},data:function(){return{showUpModels:[],showUps:[],filter:"",tableLoading:!1,isEdit:!1,model:{ratings:{commercial:0,photoshoot:0,runway:0}},viewModelModal:!1,columns:[{name:"lName",required:!0,label:"Last Name",align:"left",field:"lastName",sortable:!0},{name:"fName",required:!0,label:"First Name",align:"left",field:"firstName",sortable:!0},{name:"event",required:!0,label:"Event",align:"left",field:"eventName",sortable:!0},{name:"season",required:!0,label:"Season",align:"left",field:"seasonName",sortable:!0},{name:"gender",required:!0,label:"Gender",align:"left",field:"gender",sortable:!0},{name:"mobile",required:!0,label:"Mobile Number",align:"left",field:"mobileNumber",sortable:!0}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10}}},computed:{getModelBatch:function(){var e=this;try{var t=this.$lodash.filter(this.schedules,function(t){return t[".key"]===e.model.batchKey})[0];return t.batchNumber}catch(e){return""}}},methods:{test:function(){},rowClick:function(e){this.model=e,console.log("p",this.model),this.viewModelModal=!this.viewModelModal},saveChange:function(){var e=this;this.$q.dialog({title:"Confirm",message:"Do you want to save change?",ok:"Save",cancel:"Cancel"}).then(function(){var t=c()({},e.model),a=t[".key"];delete t[".key"],e.$database.ref("showUpModels").child(a).update(t).then(function(){e.$q.notify({message:"Model Successfully change",type:"positive"}),e.isEdit=!1}).catch(function(t){e.$q.notify({message:"An error found, ".concat(t),type:"negative"}),e.isEdit=!1})}).catch(function(){})}}},k=q,x=Object(g["a"])(k,b,y,!1,null,null,null),w=x.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"q-ma-md"},[a("q-table",{attrs:{title:"In-House Models",data:e.inHouseModels,loading:e.tableLoading,columns:e.columns,filter:e.filter,pagination:e.pagination,"row-key":"code"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-search",{staticClass:"col-10",attrs:{color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"body",fn:function(t){return a("q-tr",{staticClass:"cursor-pointer",attrs:{props:t},nativeOn:{click:function(a){e.rowClick(t.row)}}},e._l(t.cols,function(o){return a("q-td",{key:o.name,attrs:{props:t}},[e._v("\n\t          "+e._s(o.value)+"\n\t          "),"batch"===o.name?a("p",[e._v(e._s(e.getBatchNumber(t)))]):e._e()])}))}}])})],1),a("q-modal",{attrs:{"content-css":{minWidth:"80vh",minHeight:"95vh"}},on:{hide:function(t){e.isEdit=!1}},model:{value:e.viewModelModal,callback:function(t){e.viewModelModal=t},expression:"viewModelModal"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header",color:"faded"},slot:"header"},[a("q-toolbar-title",[e._v("\n\t\t      \tAccount Number: "+e._s(e.model.accountNumber)+"\n\t\t      \t "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n\t\t\t\t      Date Signed: "+e._s(e.$moment(e.model.dateSigned).format("ll"))+"\n\t\t\t\t    ")])]),e.isEdit?e._e():a("q-btn",{staticClass:"q-mx-sm",attrs:{rounded:"",color:"secondary",size:"sm",label:"Edit",icon:"edit"},on:{click:function(t){e.isEdit=!0}}}),e.isEdit||e.isAlreadyInhouse?e._e():a("q-btn",{staticClass:"q-mr-xl",attrs:{label:"Copy To InHouse",rounded:"",color:"positive",size:"sm",icon:"file_copy"},on:{click:function(t){e.copyToInhouse()}}}),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"float-right",attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e.isEdit?a("div",{staticClass:"row",attrs:{slot:"footer"},slot:"footer"},[a("q-btn",{staticClass:"full-width col",attrs:{color:"positive",label:"Save",icon:"save"},on:{click:function(t){e.saveChange()}}}),a("q-btn",{staticClass:"full-width col",attrs:{color:"negative",label:"Cancel",icon:"cancel"},on:{click:function(t){e.isEdit=!1}}})],1):e._e(),a("div",{staticClass:"q-ma-md"},[a("div",[a("div",{staticClass:"flex flex-center col-md col q-pa-sm"},[a("q-carousel",{staticClass:"text-white",staticStyle:{"border-radius":"15px"},attrs:{color:"white",infinite:"",autoplay:""}},[e.getSelectedGallery!==[]?a("q-carousel-slide",{staticStyle:{width:"400px",height:"280px"},style:"background-position: center;background-image: url("+e.getSelectedGallery+");background-repeat: no-repeat;background-size: cover;"}):e._e()],1)],1)]),a("q-tabs",{attrs:{color:"dark"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"tab-1",label:"Personal Information"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-4",label:"Ratings"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-2",label:"Setcard Details"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"tab-3",label:"Portfolio Gallery"},slot:"title"}),a("q-tab-pane",{attrs:{name:"tab-1"}},[a("q-chip",{staticClass:"q-body-1 q-mb-sm q-pa-sm",attrs:{color:"info"}},[e._v(e._s(e.model.eventName)+" - "+e._s(e.model.seasonName)+" - Batch "+e._s(e.getModelBatch))]),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Last Name"},model:{value:e.model.lastName,callback:function(t){e.$set(e.model,"lastName",t)},expression:"model.lastName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"First Name"},model:{value:e.model.firstName,callback:function(t){e.$set(e.model,"firstName",t)},expression:"model.firstName"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Middle Name"},model:{value:e.model.middleInitial,callback:function(t){e.$set(e.model,"middleInitial",t)},expression:"model.middleInitial"}})],1),a("div",{staticClass:"row q-ma-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Age"},model:{value:e.model.age,callback:function(t){e.$set(e.model,"age",t)},expression:"model.age"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Gender"},model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}})],1),a("q-input",{staticClass:"q-mx-md",attrs:{readonly:!e.isEdit,type:"textarea","stack-label":"Address","max-height":100,rows:"5"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}}),a("div",{staticClass:"row q-my-md"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Telephone"},model:{value:e.model.telNumber,callback:function(t){e.$set(e.model,"telNumber",t)},expression:"model.telNumber"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Facebook Email"},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"col-5 q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Mobile Number"},model:{value:e.model.mobileNumber,callback:function(t){e.$set(e.model,"mobileNumber",t)},expression:"model.mobileNumber"}})],1),a("div",[a("q-input",{staticClass:"q-ma-md",attrs:{readonly:!e.isEdit,type:"textarea","max-height":100,rows:"5","stack-label":"Past Modeling Experience"},model:{value:e.model.pastModelExp,callback:function(t){e.$set(e.model,"pastModelExp",t)},expression:"model.pastModelExp"}})],1)],1),a("q-tab-pane",{attrs:{name:"tab-2"}},[a("div",{staticClass:"row"},[a("q-field",{staticClass:"q-ma-sm",attrs:{icon:"accessibility_new",label:"Vital Statistics","label-width":"12"}},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,type:"number","stack-label":"Chest"},model:{value:e.model.chest,callback:function(t){e.$set(e.model,"chest",t)},expression:"model.chest"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,type:"number","stack-label":"Waist"},model:{value:e.model.waist,callback:function(t){e.$set(e.model,"waist",t)},expression:"model.waist"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,type:"number","stack-label":"Hips"},model:{value:e.model.hips,callback:function(t){e.$set(e.model,"hips",t)},expression:"model.hips"}})],1),a("q-field",{staticClass:"q-ma-sm",attrs:{icon:"multiline_chart",label:"Other Measurements","label-width":"12"}},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Height"},model:{value:e.model.height,callback:function(t){e.$set(e.model,"height",t)},expression:"model.height"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,type:"number","stack-label":"Shoe Size"},model:{value:e.model.shoeSize,callback:function(t){e.$set(e.model,"shoeSize",t)},expression:"model.shoeSize"}}),a("q-select",{staticClass:"col q-mx-md",attrs:{"float-label":"Shirt Size",options:e.shirtSize,value:"",readonly:!e.isEdit},model:{value:e.model.shirtSize,callback:function(t){e.$set(e.model,"shirtSize",t)},expression:"model.shirtSize"}})],1)],1),a("q-field",{staticClass:"q-ma-sm",attrs:{icon:"multiline_chart",label:"Other Details","label-width":"12"}},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Complexion"},model:{value:e.model.complexion,callback:function(t){e.$set(e.model,"complexion",t)},expression:"model.complexion"}}),a("q-input",{staticClass:"col q-mx-md",attrs:{readonly:!e.isEdit,"stack-label":"Facebook Link"},model:{value:e.model.fbLink,callback:function(t){e.$set(e.model,"fbLink",t)},expression:"model.fbLink"}})],1)])],1),a("q-tab-pane",{attrs:{name:"tab-3"}},[a("div",{staticClass:"row"},[a("q-table",{staticClass:"col-12 q-pa-xs",attrs:{grid:"","hide-header":"","rows-per-page-options":[4],columns:e.galleryColumns,data:e.getPhotoGallery,pagination:e.Modelpagination,filter:e.filter,selection:e.selectionGallery,selected:e.selectedGallery,"row-key":"name"},on:{"update:pagination":function(t){e.Modelpagination=t},"update:selected":function(t){e.selectedGallery=t}},scopedSlots:e._u([{key:"item",fn:function(t){return a("div",{staticClass:"q-pa-xs col-xs-3  transition-generic",style:t.selected?"transform: scale(0.90);":""},[a("q-card",{staticClass:"transition-generic cursor-pointer",class:t.selected?"bg-dark shadow-12":"",staticStyle:{"border-radius":"10px"},nativeOn:{click:function(e){t.selected=!t.selected}}},[a("q-card-media",{staticStyle:{"min-width":"100px","min-height":"150px","max-height":"100px"},style:"background-position: center;background-image: url("+t.row.photo+");background-repeat: no-repeat;background-size: cover;",attrs:{"overlay-position":"bottom"}},[e.editGallery?a("q-btn",{staticClass:"q-ma-sm float-right",attrs:{size:"sm",icon:"close",round:"",color:"red"},on:{click:function(a){e.deleteGalleryPhoto(t.row)}}}):e._e()],1)],1)],1)}},{key:"bottom",fn:function(t){return a("div",{staticClass:"row flex-center fit"},[a("q-btn",{attrs:{round:"",dense:"",icon:"chevron_left",color:"dark",disable:t.isFirstPage},on:{click:t.prevPage}}),a("q-btn",{staticClass:"q-ma-sm float-right",attrs:{size:"sm",rounded:"",color:"black",outline:"",label:"edit portfolio gallery"},on:{click:function(t){e.editGallery=!e.editGallery}}}),a("q-btn",{attrs:{round:"",dense:"",icon:"chevron_right",color:"dark",disable:t.isLastPage},on:{click:t.nextPage}})],1)}}])}),a("div",{staticClass:"col-12 q-pa-sm"},[a("q-field",{staticClass:"q-ma-sm",attrs:{icon:"photo",label:"Upload Portfolio\\s","label-width":"12"}},[a("q-uploader",{ref:"upld",staticClass:"col-12 q-pa-sm",attrs:{url:e.photoGallery,name:"modelPortfolio","hide-upload-progress":"","float-label":"Model Portfolio","hide-upload-button":"","auto-expand":"",extensions:"'.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG'"},on:{add:function(t){e.photoAdded},remove:function(t){e.photoRemoved}}}),a("q-btn",{staticClass:"full-width",attrs:{label:"Upload",rounded:"",color:"teal",loading:e.loading},on:{click:e.uploadGallery}})],1)],1)],1)]),a("q-tab-pane",{attrs:{name:"tab-4"}},[a("div",{staticClass:"layout-padding"},[a("p",{staticClass:"q-title"},[e._v("Commercial")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.commercial,callback:function(t){e.$set(e.model.ratings,"commercial",t)},expression:"model.ratings.commercial"}}),a("p",{staticClass:"q-title"},[e._v("Photoshoot")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.photoshoot,callback:function(t){e.$set(e.model.ratings,"photoshoot",t)},expression:"model.ratings.photoshoot"}}),a("p",{staticClass:"q-title"},[e._v("Runway")]),a("q-rating",{attrs:{size:"50px",readonly:!e.isEdit,max:5},model:{value:e.model.ratings.runway,callback:function(t){e.$set(e.model.ratings,"runway",t)},expression:"model.ratings.runway"}})],1)])],1)],1)],1)],1)],1)},C=[],E=(a("f3/d"),a("lwme")),P={name:"InhouseModels",mounted:function(){this.$bindAsArray("contractSigned",this.$database.ref("contractSigned")),this.$bindAsArray("schedules",this.$database.ref("event_schedules")),this.$bindAsArray("paymentRecords",this.$database.ref("payment_transactions")),this.$bindAsArray("attendance",this.$database.ref("attendance")),this.$bindAsArray("inHouseModels",this.$database.ref("inhouseModels")),this.$bindAsArray("schedules",this.$database.ref("event_schedules")),this.storageRef=this.$firebase.storage().ref()},computed:{getModelInfo:function(){try{var e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===model.accountNumber});return e[0]}catch(e){return[]}},getSelectedGallery:function(){try{return this.selectedGallery===[]?"assets/gallerydefault.png":this.selectedGallery[0].photo}catch(e){return"assets/gallerydefault.png"}},modelActivityAttended:function(){var e=this,t=new Array;this.$lodash.map(this.attendance,function(a){e.$lodash.map(a,function(e,o,s){if(".key"!==o){var n,l=(n={},m()(n,".key",o),m()(n,"models",a[o].present),n);t.push(l)}})});for(var a=this.model[".key"],o=new Array,s=0;s<t.length;s++)for(var n=this.$lodash.keys(t[s].models),l=0;l<n.length;l++)a===n[l]&&o.push(t[s]);var i=this.$lodash.map(o,function(t){return t.startDate=e.getActSchedule(t[".key"]).startDate,t}),r=this.$lodash.orderBy(i,function(e){return new Date(e.startDate)},"asc");return r},isAlreadyInhouse:function(){var e=this,t=this.$lodash.findIndex(this.inHouseModels,function(t){return t[".key"]===e.model[".key"]});return!(t<=-1)},getAttendancePresents:function(){for(var e=this.attendance,t=new Array,a=0;a<e.length;a++)for(var o=this.$lodash.keys(e[a]),s=0;s<o.length;s++)t.push(e[a][o[s]].present);return this.$lodash.compact(t)},getModelBatch:function(){var e=this;try{var t=this.$lodash.filter(this.schedules,function(t){return t[".key"]===e.model.batchKey})[0];return t.batchNumber}catch(e){return""}},getPhotoGallery:function(){try{var e=this.model;console.log("model",this.selectedModel);var t=this.$lodash.filter(this.inHouseModels,function(t){return t[".key"]===e[".key"]}),a=[];return this.$lodash.forEach(t[0].photoGallery,function(e){a.push(e)}),console.log("s",t),a}catch(e){return[]}}},data:function(){var e;return e={editGallery:!1,selectedGallery:[],selectionGallery:"single",galleryColumns:[{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"photo",required:!0,label:"photo",align:"left",field:"photo"}],Modelpagination:{sortBy:null,descending:!1,page:1,rowsPerPage:4},showUpload:!1,uploadedPhoto:null,photoGallery:"",url:"http://1.1.1.195/upload.php",storageRef:null,schedules:[],inHouseModels:[],attendance:[],paymentRecords:[],isEdit:!1,model:{ratings:{commercial:0,photoshoot:0,runway:0}},shirtSize:[{label:"Extra Small (XS)",value:"XS"},{label:"Small (S)",value:"S"},{label:"Meduim (M)",value:"M"},{label:"Large (L)",value:"L"},{label:"Extra Large (XL)",value:"XL"}],viewModelModal:!1},m()(e,"schedules",[]),m()(e,"contractSigned",[]),m()(e,"filter",""),m()(e,"loading",!1),m()(e,"tableLoading",!1),m()(e,"columns",[{name:"accntNumber",required:!0,label:"Account Number",align:"left",field:"accountNumber",sortable:!0},{name:"lastName",required:!0,label:"Last Name",align:"left",field:"lastName",sortable:!0},{name:"firstName",required:!0,label:"First Name",align:"left",field:"firstName",sortable:!0},{name:"event",required:!0,label:"Event",align:"left",field:"eventName",sortable:!0},{name:"season",required:!0,label:"Season",align:"left",field:"seasonName",sortable:!0},{name:"batch",required:!0,label:"Batch",align:"left",sortable:!0},{name:"gender",required:!0,label:"Gender",align:"left",field:"gender",sortable:!0},{name:"fbEmail",required:!0,label:"Facebook Email",align:"left",field:"email",sortable:!0}]),m()(e,"pagination",{sortBy:null,descending:!1,page:1,rowsPerPage:10}),e},methods:{photoAdded:function(e){this.uploadedPhoto=e},photoRemove:function(){this.uploadedPhoto=null},uploadGallery:function(){if(0===this.$refs.upld.files.length)vm.$q.notify({message:"No Photo Uploaded",type:"negative",color:"negative",textColor:"white",icon:"negative"});else{this.loading=!0;var e=E(9);console.log("upload na",e),console.log(this.model[".key"]);var t=this.model[".key"];this.uploadedPhoto=this.$refs.upld.files[0];var a=this,o=this.storageRef.child("portfolio/".concat(this.model.lastName).concat(e,"__").concat(this.$refs.upld.name)).put(this.uploadedPhoto);o.on("state_changed",function(e){},function(e){this.$q.notify({message:"An error occur",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error occur",e)},function(){o.snapshot.ref.getDownloadURL().then(function(e){a.photoGallery=e;var o={name:E(5),photo:a.photoGallery};a.$database.ref("inhouseModels/"+t+"/photoGallery").push(o).then(function(){a.$q.notify({message:"Portfolio Added",type:"positive",color:"positive",textColor:"white",icon:"info"}),a.$refs.upld.clear(),a.$refs.upld.reset(),a.loading=!1}).catch(function(e){console.log(e),a.$q.notify({message:"Portfolio Not Added",type:"negative",color:"negative",textColor:"white",icon:"warning"}),a.$refs.upld.clear(),a.$refs.upld.reset(),a.loading=!1})})})}},deleteGalleryPhoto:function(e){var t=this;console.log(e);var a=this.model[".key"];console.log(a),console.log(this.model.photoGallery);var o=this.$lodash.findKey(this.model.photoGallery,["name",e.name]);console.log(o),this.$q.dialog({title:"Confirm",message:"Do you want to delete this photo?",ok:"Delete",cancel:"Cancel"}).then(function(){t.$database.ref("inhouseModels/"+a+"/photoGallery").child(o).remove().then(function(){t.$q.notify({message:"Picture Deleted",type:"positive"}),t.editGallery=!1}).catch(function(e){t.$q.notify({message:"An error found, ".concat(e),type:"negative"}),t.editGallery=!1})})},rowClick:function(e){this.model=e,console.log("p",this.model),this.viewModelModal=!this.viewModelModal,this.selectedGallery=[this.getPhotoGallery[0]]},getBatchNumber:function(e){try{var t=e.row.batchKey,a=this.$lodash.filter(this.schedules,function(e){return e[".key"]===t})[0];return a.batchNumber}catch(e){return""}},saveChange:function(){var e=this;this.$q.dialog({title:"Confirm",message:"Do you want to save change?",ok:"Save",cancel:"Cancel"}).then(function(){console.log("edit",e.model);var t=c()({},e.model),a=t[".key"];console.log(a),delete t[".key"],e.$database.ref("inhouseModels").child(a).update(t).then(function(){e.$q.notify({message:"Model Successfully change",type:"positive"}),e.isEdit=!1}).catch(function(t){e.$q.notify({message:"An error found, ".concat(t),type:"negative"}),e.isEdit=!1})}).catch(function(){})},copyToInhouse:function(){var e=this;this.$q.dialog({title:"Confirm",message:"Do you want to copy in Inhouse models?",ok:"Save",cancel:"Cancel"}).then(function(){var t=c()({},e.model),a=t[".key"];delete t[".key"],e.$database.ref("inHouseModels").child(a).set(t).then(function(){e.$q.notify({message:"Model Successfully copy to inhouse",type:"positive"})}).catch(function(t){e.$q.notify({message:"An error occur"+t,type:"negative"})})}).catch(function(){})},getActSchedule:function(e){for(var t=0;t<this.schedules.length;t++)for(var a=0;a<this.schedules[t].activities.length;a++)if(this.schedules[t].activities[a].id===e)return this.schedules[t].activities[a]},test:function(){console.log(this.$refs.upld),console.log(this.$refs.upld.files.length)},getModelsPaymentTransactions:function(e){try{var t=e,a=this.$lodash.filter(this.paymentRecords,function(e){return e.modelKey===t[".key"]});return console.log("modelpayments",a),a}catch(e){return console.log("error",e),[]}},removeDone:function(e){this.events.push("remove:done ".concat(e.name))},filtered:function(e){this.events.push("".concat(e.length," files didn't pass the filter"))},reset:function(){this.$refs.upld.reset()},makeUploadTaskWithTimestamp:function(e){var t=e.name,a="".concat(Date.now(),".").concat(e.name),o={customMetadata:{originalName:t}};return this.storageRef.child(a).put(e,o)},getLoading:function(){this.$q.loading.show()}}},_=P,M=Object(g["a"])(_,$,C,!1,null,null,null),N=M.exports,A={components:{editPage:n["a"],editPagePhotos:l["a"],ContractSigned:v,ShowupModel:w,InhouseModel:N},mounted:function(){this.$bindAsArray("events",this.$database.ref("events")),this.$bindAsArray("courses",this.$database.ref("settings/courses")),this.$bindAsArray("models",this.$database.ref("models"))},computed:{eventState:{get:function(){return this.$store.state.users.getEvents},set:function(e){this.$store.commit("users/getEvents",e)}},acroEventCode:function(){try{var e=this.newEvent.eventName,t=e.match(/\b(\w)/g),a=t.join("");return this.eventCode=a,a}catch(e){}},infantOpt:function(){for(var e=[],t=7;t<=11;t++)e.push(t);var a=this.$lodash.map(e,function(e){return{label:e+"months",value:e/12}});return a},below4:function(){"infant"===this.newEvent.ageRange.type?(this.newEvent.ageRange.min="7 months",this.newEvent.ageRange.max="1yr.4months"):"todler"===this.newEvent.ageRange.type?(this.newEvent.ageRange.min="1yr.5months",this.newEvent.ageRange.max="3yr.11months"):(this.newEvent.ageRange.min=0,this.newEvent.ageRange.max=0)},eventPageLoading:function(){return this.$store.getters["users/getEventPageLoading"]},eventPageModal:{get:function(){return this.$store.state.users.eventPageModal},set:function(e){this.$store.commit("users/updateEventPageModal",e)}},eventPagePhotoModal:{get:function(){return this.$store.state.users.eventPagePhotoModal},set:function(e){this.$store.commit("users/updateEventPagePhotosModal",e)}},courseOpt:function(){var e=this.$lodash.map(this.courses,function(e){return{label:e.courseName,value:e[".key"]}});return e}},data:function(){return{selectedTab:"tab-1",dense:!0,events:[],courses:[],models:[],range:{min:4,max:60},newEvent:{eventName:"",course:"",eventCode:"",ageRange:{min:"",max:"",infant:!1,type:""},genderRestriction:"",description:"",seasons:[]},eventTypesOpt:[{label:"Kids Fashion",value:"kidsFashion"},{label:"Basic Course",value:"basicCourse"},{label:"Full Course",value:"fullCourse"}],genderRestricOpt:[{label:"Male Only",value:"male"},{label:"Female Only",value:"female"},{label:"None (Male/Female)",value:"none(male/female)"}],eventModal:!1,editPageModal:!1,pagePhotoModal:!1,isEdit:!1,loading:!1,filter:"",tableLoading:!1,columns:[{name:"code",required:!0,label:"Last Name",align:"left",field:"lastName",sortable:!0},{name:"name",required:!0,label:"First Name",align:"left",field:"firstName",sortable:!0},{name:"event",required:!0,label:"Event",align:"left",field:"eventName",sortable:!0},{name:"season",required:!0,label:"Season",align:"left",field:"seasonName",sortable:!0},{name:"gender",required:!0,label:"Gender Restriction",align:"left",field:"gender",sortable:!0},{name:"contract",required:!0,label:"Contract Sign",align:"left",field:"contractSign",sortable:!0},{name:"actions",required:!0,label:"Actions",align:"center",field:"name",sortable:!1}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10}}},methods:{setEvents:function(){this.$store.dispatch("users/setupEvents",this.events)},getCourse:function(e){try{var t=this.$lodash.findIndex(this.courses,function(t){return t[".key"]===e});return this.courses[t].courseName}catch(e){}},clearEventModal:function(){delete this.newEvent[".key"],delete this.newEvent.__index,this.newEvent.eventName="",this.newEvent.eventCode="",this.newEvent.ageRange.min="",this.newEvent.ageRange.max="",this.newEvent.ageRange.infant=!1,this.range.min=4,this.range.max=40,this.newEvent.ageRange.type="",this.newEvent.genderRestriction="",this.newEvent.description="",this.isEdit=!1,this.$bindAsArray("events",this.$database.ref("events"))},showEventPagePhotoModal:function(e){this.newEvent=Object.assign({},e.row),this.editPageModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate(),this.eventPagePhotoModal=!0,this.$store.dispatch("users/updateEvent",this.newEvent)},showEventPageModal:function(e){this.newEvent=Object.assign({},e.row),this.editPageModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate(),this.$store.dispatch("users/openEventPageModal"),this.$store.dispatch("users/updatePages",this.newEvent.page)},showEvent:function(e){this.newEvent=Object.assign({},e.row),this.isEdit=!0,this.eventModal=!0,e.row.ageRange.infant||(this.range.min=parseInt(e.row.ageRange.min.match(/\d+/)[0]),this.range.max=parseInt(e.row.ageRange.max.match(/\d+/)[0])),this.$forceUpdate()},addNewEvent:function(){var e=this;this.loading=!0;var t=Object.assign({},this.newEvent),a=Object.assign([],t.ageRange);t.ageRange=a,t.eventCode=this.acroEventCode,t.ageRange.infant||(t.ageRange.min=this.range.min+"yrs old",t.ageRange.max=this.range.max+"yrs old",t.ageRange.type="above 4");var o={header:"",content:"",footer:""},s={eventLogo:"",homeLogo:"",titleImage:"",registrationImage:""};t.page=o,t.pagePhotos=s,console.log("add to event",t),this.$firebaseRefs.events.push(t).then(function(){e.loading=!1,e.clearEventModal(),e.eventModal=!1,e.$q.notify({message:"".concat(t.eventName," has been succesfully added"),type:"positive",color:"positive",textColor:"white",icon:"info"})}).catch(function(t){e.loading=!1,e.clearEventModal(),e.eventModal=!1,e.$q.notify({message:"An Error Occured",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error",t)})},editEvent:function(){var e=this;this.loading=!0;var t=Object.assign({},this.newEvent),a=t[".key"];delete t[".key"],t.ageRange.infant||(t.ageRange.min=this.range.min+"yrs old",t.ageRange.max=this.range.max+"yrs old",t.ageRange.type="above 4"),this.$firebaseRefs.events.child(a).update(t).then(function(){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"".concat(t.eventName," has been succesfully updated"),type:"positive",color:"positive",textColor:"white",icon:"info"})}).catch(function(t){e.loading=!1,e.eventModal=!1,e.$q.notify({message:"An Error Occured",type:"negative",color:"negative",textColor:"white",icon:"warning"}),console.log("error",t)})},deleteEvent:function(e){var t=this,a=this,o=e.row[".key"];this.$q.dialog({title:"Delete Confirmation",message:"Do you want to delete ".concat(e.row.eventName,"?"),ok:"Yes",cancel:"No"}).then(function(){a.$firebaseRefs.events.child(o).remove().then(function(){t.$q.notify({message:"".concat(e.row.eventName," deleted"),type:"info",color:"info",textColor:"white",icon:"info"})}).catch(function(e){t.$q.notify({message:"An Error occur",type:"info",color:"info",textColor:"white",icon:"info"}),console.log("err",e)})}).catch(function(){})},isOngoing:function(e){var t=e.row;try{return"ongoing"!==t.seasons[0].status}catch(e){return!0}},selectTab1:function(){this.selectedTab="tab-1"},selectTab2:function(){this.selectedTab="tab-2"}}},S=A,I=(a("B5Fk"),Object(g["a"])(S,o,s,!1,null,null,null));t["default"]=I.exports}}]);