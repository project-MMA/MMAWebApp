(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{PbVH:function(t,e,a){"use strict";var n=a("cf+P"),o=a.n(n);o.a},WHCF:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-toolbar",{attrs:{color:"primary",inverted:""}},[a("q-icon",{attrs:{name:"people"}}),a("q-toolbar-title",[t._v("\n\t    Models\n\t  ")]),a("q-select",{staticClass:"noprint",attrs:{options:t.reportTypeOpt},model:{value:t.reportType,callback:function(e){t.reportType=e},expression:"reportType"}}),a("q-select",{staticClass:"noprint",attrs:{options:t.reportYearOpt},model:{value:t.reportYear,callback:function(e){t.reportYear=e},expression:"reportYear"}}),a("q-btn",{staticClass:"q-mx-md",attrs:{icon:"print",label:"print"},on:{click:function(e){t.print()}}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4  q-ma-md"},[a("q-card",[a("q-card-title",{staticClass:"bg-primary"},[a("p",{staticClass:"q-headline text-white"},[t._v("Total Registrants: "+t._s(t.totalRegistrants))])]),a("q-card-separator"),a("q-card-main",[a("p",[t._v("Show up: "+t._s(t.totalShowUp))]),a("p",[t._v("No Show: "+t._s(t.totalNoShow))]),a("q-item-separator"),a("p",[t._v("Contract Signed: "+t._s(t.totalContractSigned))]),a("p",[t._v("Not Signed: "+t._s(t.totalNotSigned))])],1)],1)],1),a("div",{staticClass:"col"},[a("q-chip",{staticClass:"q-title",attrs:{detail:"",square:"",icon:"assignment_ind",color:"primary"}},[t._v("Registrants: "+t._s(t.totalRegistrants2))]),a("line-chart",{attrs:{colors:["#027be3"],data:t.registrantsLineChart}})],1)]),a("div",{staticClass:"row q-ma-md"},[a("div",{staticClass:"col q-ma-md"},[a("q-chip",{staticClass:"q-title q-ma-md",attrs:{detail:"",square:"",icon:"how_to_reg",color:"positive"}},[t._v("Contract Signed: "+t._s(t.totalContractSigned2))]),a("line-chart",{attrs:{colors:["#21BA45"],legend:!0,data:t.signedLineChart,height:"200px"}})],1),a("div",{staticClass:"col q-ma-md"},[a("q-chip",{staticClass:"q-title q-ma-md",attrs:{detail:"",square:"",icon:"voice_over_off\n\t\t\t\t",color:"info"}},[t._v("Not Signed: "+t._s(t.totalNotSigned2))]),a("line-chart",{attrs:{colors:["#31CCEC"],legend:!0,data:t.notSignedLineChart,height:"200px"}})],1),a("div",{staticClass:"col q-ma-md"},[a("q-chip",{staticClass:"q-title q-ma-md",attrs:{detail:"",square:"",icon:"directions_walk",color:"secondary"}},[t._v("Show Up: "+t._s(t.totalShowUp2))]),a("line-chart",{attrs:{colors:["#26A69A"],legend:!0,data:t.showUpLineChart,height:"200px"}})],1),a("div",{staticClass:"col q-ma-md"},[a("q-chip",{staticClass:"q-title q-ma-md",attrs:{detail:"",square:"",icon:"cancel_presentation",color:"warning"}},[t._v("No Show: "+t._s(t.totalNoShow2))]),a("line-chart",{attrs:{colors:["#C5B513"],legend:!0,data:t.noShowLineChart,height:"200px"}})],1)]),a("div",{staticClass:"row q-ma-md"},[a("div",{staticClass:"col-4 q-ma-md"},[a("pie-chart",{attrs:{colors:["#21BA45","#31CCEC","#26A69A","#C5B513"],data:t.pieData}})],1),a("div",[a("q-table",{attrs:{title:"Top Events",data:t.topEventTable,columns:t.columns,"row-key":"name","hide-bottom":"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}}})],1)])],1)},o=[],r=a("MVZn"),s=a.n(r),i=(a("rGqo"),a("yt8O"),a("O2Fx")),d=a.n(i),h={components:{VueChart:d.a},mounted:function(){this.$bindAsArray("contractSigned",this.$database.ref("contractSigned")),this.$bindAsArray("models",this.$database.ref("models")),this.$bindAsArray("showUps",this.$database.ref("showUpModels")),this.$bindAsArray("schedules",this.$database.ref("event_schedules"))},computed:{topEventTable:function(){var t=this.$lodash.groupBy(this.registrants,"eventName"),e=this.$lodash.map(t,function(t,e,a){var n={models:a[e].length,eventName:e};return n});return this.$lodash.orderBy(e,"models","desc")},pieData:function(){var t={"Contract Signed":this.totalContractSigned2,"Not Signed":this.totalNotSigned2,"Show Up":this.totalShowUp2,"No Show":this.totalNoShow2};return t},noShowLineChart:function(){var t=this,e=this.getNoShowByMonth,a=(this.$lodash.keys(e),this.$lodash.map(e,function(e,a,n){return n[a]=t.getRegistranstByMonth[a]-t.getShowUpsByMonth[a],n})),n=[{name:"",data:s()({},a[0])}];return n},showUpLineChart:function(){var t=this.getShowUpsByMonth,e=(this.$lodash.keys(t),this.$lodash.map(t,function(t,e,a){return a[e]=a[e].length,a})),a=[{name:"",data:s()({},e[0])}];return a},notSignedLineChart:function(){var t=this.getNotSignedByMonth,e=(this.$lodash.keys(t),this.$lodash.map(t,function(t,e,a){return a[e]=a[e].length,a}));console.log("dataCollected",e);var a=[{name:"",data:s()({},e[0])}];return a},signedLineChart:function(){var t=this.getSignedByMonth,e=(this.$lodash.keys(t),this.$lodash.map(t,function(t,e,a){return a[e]=a[e].length,a})),a=[{name:"",data:s()({},e[0])}];return a},registrantsLineChart:function(){var t=this.getRegistranstByMonth,e=this.$lodash.keys(t),a=this.$lodash.map(t,function(t,e,a){return a[e]=a[e].length,a});console.log("months",e);var n=[{name:"",data:s()({},a[0])}];return console.log("registrantsLineChart",n),n},getNoShowByMonth:function(){var t=this,e=this.showUps,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateAdded),"YYYY-MM-DD").format("MMMM");return e.dateMonthAdded=a,e}),n=this.$lodash.groupBy(a,"dateMonthAdded");return n},getShowUpsByMonth:function(){var t=this;try{var e=this.showUps,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateAdded),"YYYY-MM-DD").format("MMMM");return e.dateMonthAdded=a,e}),n=this.$lodash.groupBy(a,"dateMonthAdded");return console.log("showUpsMonth",n["October"].length),n}catch(t){return[]}},getNotSignedByMonth:function(){var t=this,e=this.notSignedModels,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateAdded),"YYYY-MM-DD").format("MMMM");return e.dateMonthAdded=a,e}),n=this.$lodash.groupBy(a,"dateMonthAdded");return n},getSignedByMonth:function(){var t=this,e=this.contractSigned,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateSigned),"YYYY-MM-DD").format("MMMM");return e.dateMonthSigned=a,e}),n=this.$lodash.groupBy(a,"dateMonthSigned");return n},getRegistranstByMonth:function(){var t=this,e=this.registrants,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateCreated),"YYYY-MM-DD").format("MMMM");return e.dateMonthAdded=a,e}),n=this.$lodash.groupBy(a,"dateMonthAdded");return n},totalNotSignedModelsByYear:function(){try{return this.notSignedModelsByYear(this.reportYear).length}catch(t){return 0}},totalShowUpByYear:function(){try{return this.showUpsByYear(this.reportYear).length}catch(t){return 0}},totalContractByYear:function(){try{return this.contractByYear(this.reportYear).length}catch(t){return 0}},totalRegistrantsByYear:function(){try{return this.registrantsByYear(this.reportYear).length}catch(t){return 0}},registrants:function(){var t=new Array;t.push(this.showUps),t.push(this.models),t.push(this.contractSigned);var e=this.$lodash.spread(this.$lodash.union)(t);return e},notSignedModels:function(){var t=this,e=this.showUps,a=new Array;return this.$lodash.forEach(e,function(e){var n=t.getModelBatchActivities(e.batchKey),o=n[1],r=t.$mathMixin.dayDiff(new Date,new Date(o.startDate));r<=0&&a.push(e)}),console.log("notSignedModels",a),a},totalNotSigned2:function(){if("month"===this.reportType)return this.totalNotSignedModelsByYear},totalNotSigned:function(){return this.notSignedModels.length},totalNoShow2:function(){if("month"===this.reportType)return this.totalRegistrants2-this.totalShowUp2},totalNoShow:function(){return this.totalRegistrants-this.totalShowUp},totalShowUp2:function(){if("month"===this.reportType)return this.totalShowUpByYear},totalShowUp:function(){return this.showUps.length},totalContractSigned2:function(){if("month"===this.reportType)return this.totalContractByYear},totalContractSigned:function(){return this.contractSigned.length},totalRegistrants2:function(){if("month"===this.reportType)return this.totalRegistrantsByYear},totalRegistrants:function(){return this.registrants.length}},data:function(){return{reportType:"month",reportYear:this.$moment(new Date,"YYYY-MM-DD").format("YYYY"),reportYearOpt:[{label:"2018",value:"2018"}],reportTypeOpt:[{label:"Year",value:"year"},{label:"Month",value:"month"},{label:"Week",value:"week"}],schedules:[],showUps:[],models:[],contractSigned:[],graphSigned:[],chartKickData:[{name:"Teen Fashion Festival",data:{Season1:10032,Season2:1001492,Season3:100150,Season4:100500}}],chartData:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"2018",data:[10,20,30,40,20],backgroundColor:"#f87979"}]},pieChartData:{labels:["Red","Blue","Yellow"],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},columns:[{name:"eventName",required:!0,label:"Event Name",align:"left",field:"eventName",sortable:!0},{name:"models",required:!0,label:"Models",align:"left",field:"models",sortable:!0}],pagination:{page:1,rowsPerPage:5}}},methods:{notSignedModelsByYear:function(t){var e=this,a=this.notSignedModels,n=this.$lodash.map(a,function(t){var a=e.$moment(new Date(t.dateAdded),"YYYY-MM-DD").format("YYYY");return t.dateYearAdded=a,t}),o=this.$lodash.groupBy(n,"dateYearAdded");return o[t]},showUpsByYear:function(t){var e=this,a=this.showUps,n=this.$lodash.map(a,function(t){var a=e.$moment(new Date(t.dateAdded),"YYYY-MM-DD").format("YYYY");return t.dateYearAdded=a,t}),o=this.$lodash.groupBy(n,"dateYearAdded");return o[t]},contractByYear:function(t){var e=this,a=this.contractSigned,n=this.$lodash.map(a,function(t){var a=e.$moment(new Date(t.dateSigned),"YYYY-MM-DD").format("YYYY");return t.dateYearSigned=a,t}),o=this.$lodash.groupBy(n,"dateYearSigned");return o[t]},registrantsByYear:function(t){var e=this,a=this.registrants,n=this.$lodash.map(a,function(t){var a=e.$moment(new Date(t.dateCreated),"YYYY-MM-DD").format("YYYY");return t.dateYearAdded=a,t}),o=(this.$lodash.map(a,function(t){var a=e.$moment(new Date(t.dateSigned),"YYYY-MM-DD").format("YYYY");return t.dateYearSigned=a,t}),this.$lodash.groupBy(n,"dateYearAdded"));return console.log("registrantsByYear",o),o["2018"]},getModelBatchActivities:function(t){var e=this.$lodash.filter(this.schedules,function(e){return e[".key"]===t})[0].activities;return e},print:function(){window.print()},test:function(){var t=this;console.log("registrants",this.registrants),console.log("registrants",this.registrantsLineChart);var e=this.registrants,a=this.$lodash.map(e,function(e){var a=t.$moment(new Date(e.dateAdded),"YYYY-MM-DD").format("YYYY");return e.dateYearAdded=a,e}),n=this.$lodash.groupBy(a,"dateYearAdded");console.log("registrants",n);var o=n,r=(this.$lodash.keys(o),this.$lodash.map(o,function(t,e,a){return a[e]=a[e].length,a})),i=[{name:"",data:s()({},r[0])}];console.log("lineChartData",i)}}},l=h,c=(a("PbVH"),a("KHd+")),u=Object(c["a"])(l,n,o,!1,null,null,null);e["default"]=u.exports},"cf+P":function(t,e,a){}}]);