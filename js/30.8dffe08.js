(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{GCoF:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",[a("p",{staticClass:"q-title q-ma-md"},[t._v("View Mode: ")]),a("q-btn-toggle",{staticClass:"q-mx-md",attrs:{rounded:"",size:"sm","toggle-color":"primary",options:[{label:"Calendar",value:"calendarMode"},{label:"Agenda",value:"agendaMode"}]},model:{value:t.viewMode,callback:function(e){t.viewMode=e},expression:"viewMode"}})],1),"calendarMode"===t.viewMode?a("div",{staticStyle:{height:"700px"}},[a("calendar-view",{key:Date.now(),staticClass:"theme-default holiday-us-traditional q-ma-md",attrs:{"show-date":t.showDate,events:t.allEventSchedules,"show-event-times":t.showEventTimes,timeFormatOptions:{hour:"numeric",minute:"numeric",hour12:!0},startingDayOfWeek:t.startingDayOfWeek},on:{"show-date-change":t.setShowDate,"click-event":t.clickEvent,"drop-on-date":t.dropOnDate}})],1):t._e(),"agendaMode"===t.viewMode?a("div",[a("calendar-agenda",{staticClass:"q-ma-md",attrs:{"start-date":t.showDate,"event-array":t.agendaEventSchedules,"allow-editing":!1}})],1):t._e(),a("q-modal",{attrs:{"content-css":{minWidth:"80px",minHeight:"50px"}},on:{hide:function(t){}},model:{value:t.activityModal,callback:function(e){t.activityModal=e},expression:"activityModal"}},[a("q-modal-layout",[a("q-toolbar",[a("q-toolbar-title",[t._v("\n\t\t\t\t\t\t"+t._s(t.activity.originalEvent.title)+"\n          ")]),a("q-btn",{attrs:{flat:"",rounded:"",dense:"",icon:"edit",label:"edit"},on:{click:function(t){}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){t.activityModal=!1}}})],1),a("div",[a("q-input",{staticClass:"q-ma-md",attrs:{readonly:"",type:"text","stack-label":"Activity"},model:{value:t.activity.originalEvent.type,callback:function(e){t.$set(t.activity.originalEvent,"type",e)},expression:"activity.originalEvent.type"}}),t.activity.originalEvent.startDate?a("q-datetime",{staticClass:"q-ma-md",attrs:{readonly:"",format:"MMM-DD-YYYY","stack-label":"Date",type:"date"},model:{value:t.activity.originalEvent.startDate,callback:function(e){t.$set(t.activity.originalEvent,"startDate",e)},expression:"activity.originalEvent.startDate"}}):t._e(),"payment"===t.activity.originalEvent.type?a("q-input",{staticClass:"q-ma-md",attrs:{readonly:"",prefix:"P",type:"number","stack-label":"Amount"},model:{value:t.activity.originalEvent.amount,callback:function(e){t.$set(t.activity.originalEvent,"amount",e)},expression:"activity.originalEvent.amount"}}):t._e(),t.activity.originalEvent.time?a("q-datetime",{staticClass:"q-ma-md",attrs:{readonly:"",format:"h:mm A","stack-label":"Time",type:"time"},model:{value:t.activity.originalEvent.time,callback:function(e){t.$set(t.activity.originalEvent,"time",e)},expression:"activity.originalEvent.time"}}):t._e(),t.activity.originalEvent.dueDate?a("q-datetime",{staticClass:"q-ma-md",attrs:{readyonly:"",format:"MMM-DD-YYYY",min:t.$mathMixin.addDays(new Date(t.activity.originalEvent.startDate),1),"stack-label":"Due Date",type:"date"},model:{value:t.activity.originalEvent.dueDate,callback:function(e){t.$set(t.activity.originalEvent,"dueDate",e)},expression:"activity.originalEvent.dueDate"}}):t._e(),""!==t.activity.originalEvent.location&&!t.activity.originalEvent.location||t.activity.originalEvent.dueDate||t.activity.originalEvent.amount?t._e():a("q-input",{staticClass:"q-ma-md",attrs:{readonly:"",type:"textarea","stack-label":"Location",rows:"7"},model:{value:t.activity.originalEvent.location,callback:function(e){t.$set(t.activity.originalEvent,"location",e)},expression:"activity.originalEvent.location"}}),""!==t.activity.originalEvent.details&&!t.activity.originalEvent.details||t.activity.originalEvent.dueDate||t.activity.originalEvent.amount?t._e():a("q-input",{staticClass:"q-ma-md",attrs:{readonly:"",type:"textarea","stack-label":"Details",rows:"7"},model:{value:t.activity.originalEvent.details,callback:function(e){t.$set(t.activity.originalEvent,"details",e)},expression:"activity.originalEvent.details"}})],1)],1)],1)],1)},n=[],o=(a("rGqo"),a("RIqP")),l=a.n(o),s=a("VVcl"),c=a.n(s),r=a("kv6+"),d={components:{CalendarView:c.a,CalendarAgenda:r["b"]},mounted:function(){this.$bindAsArray("schedules",this.$database.ref("event_schedules"))},computed:{agendaEventSchedules:function(){try{var t=this.allEventSchedules,e=this.$lodash.map(t,function(t){if("payment"!==t.type)return{id:t.id,summary:t.title,description:t.details?t.details:"",location:t.location?t.location:"",start:{dateTime:new Date(t.startDate).toISOString()},end:{dateTime:new Date(t.endDate).toISOString()},color:"faded"}}),a=this.$lodash.compact(e);return a}catch(t){return[]}},allEventSchedules:function(){var t=this;try{var e=new Array,a=l()(this.schedules);return this.$lodash.forEach(a,function(a){t.$lodash.forEach(a.activities,function(t){t.startDate=new Date(t.startDate),t.endDate=new Date(t.endDate),t.title=t.id,e.push(t)})}),console.log("allAct",e),e}catch(t){return[]}}},data:function(){return{activity:{originalEvent:{}},activityModal:!1,schedules:[],viewMode:"calendarMode",showEventTimes:!0,showDate:new Date,startingDayOfWeek:0}},methods:{setShowDate:function(t){this.showDate=t},clickEvent:function(t){this.activity.originalEvent=t.originalEvent,this.activityModal=!0},dropOnDate:function(t,e){},test:function(){console.log("schedules",this.schedules);var t=this.allEventSchedules;console.log("activities",t);var e=this.$lodash.map(t,function(t){if("payment"!==t.type)return{id:t.id,summary:t.title,description:t.details?t.details:"",location:t.location?t.location:"",start:{dateTime:new Date(t.startDate).toISOString()},end:{dateTime:new Date(t.endDate).toISOString()},color:t.classes}}),a=this.$lodash.compact(e);console.log("agendaActivities",a)}}},v=d,u=a("KHd+"),m=Object(u["a"])(v,i,n,!1,null,null,null);e["default"]=m.exports}}]);